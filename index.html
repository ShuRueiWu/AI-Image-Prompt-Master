<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Image Prompt Master</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            font-family: 'Microsoft JhengHei', 'Segoe UI', Roboto, sans-serif;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1f2937;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 3px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }

        select option {
            background-color: #1f2937;
            color: white;
        }
        
        /* Tooltip Arrow */
        .tooltip-arrow {
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 8px;
            height: 8px;
            background-color: #000;
            border-right: 1px solid #374151;
            border-bottom: 1px solid #374151;
        }
    </style>
    
    <script type="importmap">
    {
      "imports": {
        "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "react-dom/client": "https://aistudiocdn.com/react-dom@^19.2.0/client"
      }
    }
    </script>
  </head>
  <body class="bg-gray-900 text-gray-100 overflow-hidden">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
          HelpCircle, ChevronDown, X, Plus, Copy, Check, Trash2, ChevronRight, Info, ExternalLink
        } from 'lucide-react';

        // --- Constants Data (Merged from constants.ts) ---
        const TEXTURES = [
            { label: 'æ°´å½©ç´™ (Watercolor Paper)', val: 'on watercolor paper texture' },
            { label: 'æ²¹ç•«å¸ƒ (Canvas)', val: 'on canvas texture' },
            { label: 'çšºç´™ (Crumpled Paper)', val: 'on crumpled paper texture' },
            { label: 'èˆŠç¾Šçš®ç´™ (Old Parchment)', val: 'on old parchment paper' },
            { label: 'ç‰›çš®ç´™ (Kraft Paper)', val: 'on kraft paper texture' },
            { label: 'é»‘ç´™ (Black Paper)', val: 'on black paper texture' },
            { label: 'æ–¹æ ¼ç´™ (Graph Paper)', val: 'on graph paper' },
            { label: 'ç­†è¨˜æœ¬ç´™ (Notebook Paper)', val: 'on lined notebook paper' },
            { label: 'åšç´™æ¿ (Cardboard)', val: 'on cardboard texture' },
            { label: 'æœ¨ç´‹ (Wood)', val: 'on wood texture' },
            { label: 'æ°´æ³¥ç‰† (Concrete)', val: 'on concrete wall texture' },
            { label: 'å¸ƒæ–™ (Fabric)', val: 'on fabric texture' }
        ];

        const FONT_LIST = [
            'Microsoft JhengHei', 'Sans-serif', 'Serif', 'Slab Serif', 'Monospace', 
            'Bold Display', 'Handwritten', 'Calligraphy', 'Graffiti', 'Futura', 
            'Helvetica', 'Garamond', 'Roboto', 'Noto Sans TC', 'KaiTi'
        ];

        const CATEGORIES = {
            "è—è¡“é¢¨æ ¼ (Styles)": [
                { label: 'è‰²é‰›ç­†é€Ÿå¯« (Colored Pencil)', val: 'Colored Pencil Sketch', desc: 'ç´°è†©çš„ç·šæ¢èˆ‡æº«æš–çš„ç­†è§¸ï¼Œé©åˆæ‰‹å¸³èˆ‡æ’ç•«ã€‚' },
                { label: 'æ°´å¢¨æ’ç•« (Ink Wash)', val: 'Ink Illustration', desc: 'é»‘ç™½å°æ¯”å¼·çƒˆï¼Œæµå‹•æ„Ÿå¼·ï¼Œé©åˆæ±æ–¹é¢¨æ ¼ã€‚' },
                { label: 'ç‚­ç­†ç´ æ (Charcoal)', val: 'Charcoal Drawing', desc: 'ç²—ç·ã€é«˜å°æ¯”çš„é»‘ç™½è³ªæ„Ÿï¼Œå¼·èª¿å…‰å½±ã€‚' },
                { label: 'è Ÿç­†ç•« (Crayon)', val: 'Crayon Drawing', desc: 'ç«¥è¶£ã€è‰²å½©é£½å’Œä¸”å¸¶æœ‰ç²—ç³™é¡†ç²’æ„Ÿã€‚' },
                { label: 'éº¥å…‹ç­† (Marker)', val: 'Marker Pen Art', desc: 'è‰²å½©é®®è±”ã€ç­†è§¸æ˜é¡¯ï¼Œé©åˆå·¥æ¥­è¨­è¨ˆæˆ–æ™‚å°šæ’ç•«ã€‚' },
                { label: 'åŸå­ç­†ç•« (Ballpoint)', val: 'Ballpoint Pen Art', desc: 'ä½¿ç”¨è—è‰²æˆ–é»‘è‰²åŸå­ç­†çš„ç²¾ç´°ç·šæ¢æ’ç·šã€‚' },
                { label: 'å¡—é´‰ (Doodle)', val: 'Doodle Art', desc: 'éš¨èˆˆã€å¯æ„›ã€ç„¡æ‹˜ç„¡æŸçš„ç·šæ¢å¡—é´‰ã€‚' },
                { label: 'ä¸é€æ˜æ°´å½© (Gouache)', val: 'Gouache Painting', desc: 'è‰²å½©é£½å’Œä¸é€æ˜ï¼Œç­†è§¸å¹³æ»‘ï¼Œé©åˆå¹³é¢è¨­è¨ˆé¢¨æ ¼ã€‚' },
                { label: 'è¡—é ­å¡—é´‰ (Graffiti)', val: 'Graffiti Art', desc: 'å™´æ¼†è³ªæ„Ÿï¼Œè‰²å½©å¤§è†½ï¼Œå……æ»¿è¡—é ­æ–‡åŒ–æ°£æ¯ã€‚' },
                { label: 'æ¨¡ç‰ˆå¡—é´‰ (Stencil)', val: 'Stencil Art', desc: 'é‚Šç·£æ¸…æ™°çš„å™´æ¼†é¢¨æ ¼ï¼Œé¡ä¼¼ Banksy ä½œå“ã€‚' },
                { label: 'äºéº»ç‰ˆç•« (Linocut)', val: 'Linocut Print', desc: 'é»‘ç™½åˆ†æ˜ï¼Œå¸¶æœ‰é›•åˆ»åˆ€ç—•è·¡çš„å°åˆ·è³ªæ„Ÿã€‚' },
                { label: 'æœ¨åˆ»ç‰ˆç•« (Woodblock)', val: 'Woodblock Print', desc: 'å¤æ¨¸çš„æœ¨ç´‹è³ªæ„Ÿèˆ‡å°åˆ·ç—•è·¡ã€‚' },
                { label: 'é¦¬è³½å…‹ (Mosaic)', val: 'Mosaic Art', desc: 'ç”±å°çŸ³å¡Šæˆ–ç£ç£šæ‹¼è²¼è€Œæˆçš„å½±åƒã€‚' },
                { label: 'å½©ç¹ªç»ç’ƒ (Stained Glass)', val: 'Stained Glass', desc: 'é€éå…‰ç·šç…§å°„çš„å½©è‰²ç»ç’ƒæ‹¼è²¼æ•ˆæœï¼Œç¥è–èŠåš´ã€‚' },
                { label: 'é»åœŸå‹•ç•« (Claymation)', val: 'Claymation Style', desc: 'åƒé»åœŸææˆçš„äººç‰©ï¼Œå¸¶æœ‰æŒ‡ç´‹èˆ‡æè³ªæ„Ÿã€‚' },
                { label: 'ç¾Šæ¯›æ°ˆ (Felt)', val: 'Felt Art', desc: 'æ¯›çµ¨çµ¨çš„è³ªæ„Ÿï¼Œæº«æš–ä¸”å¯æ„›ã€‚' },
                { label: 'åˆºç¹¡ (Embroidery)', val: 'Embroidery Art', desc: 'ç”¨é‡ç·šç¸«è£½çš„è³ªæ„Ÿï¼Œå…·æœ‰ç«‹é«”æ„Ÿèˆ‡ç¹”ç´‹ã€‚' },
                { label: 'é‡ç¹” (Knitting)', val: 'Knitting Pattern', desc: 'æ¯›ç·šç·¨ç¹”çš„ç´‹ç†ï¼Œæº«æš–èˆ’é©ã€‚' },
                { label: 'å·¥ç¨‹è—åœ– (Blueprint)', val: 'Blueprint Style', desc: 'è—åº•ç™½ç·šçš„å»ºç¯‰æˆ–æ©Ÿæ¢°è¨­è¨ˆåœ–é¢¨æ ¼ã€‚' },
                { label: 'é»‘æ¿ç²‰ç­† (Chalkboard)', val: 'Chalkboard Art', desc: 'é»‘æ¿èƒŒæ™¯é…ä¸Šç™½è‰²ç²‰ç­†ç·šæ¢ã€‚' },
                { label: 'æ—¥å¼æ‰‹ç¹ª (Japanese Hand-Drawn)', val: 'Japanese Hand-Drawn Style', desc: 'æŸ”å’Œçš„é‰›ç­†æˆ–é‹¼ç­†ç·šæ¢ï¼Œå‘ˆç¾æ‰‹ç¹ªæ’ç•«çš„æº«æš–è³ªæ„Ÿã€‚' },
                { label: 'æµ®ä¸–ç¹ª (Ukiyo-e)', val: 'Ukiyo-e Style', desc: 'æ—¥æœ¬æ±Ÿæˆ¶æ™‚ä»£æœ¨åˆ»ç‰ˆç•«é¢¨æ ¼ï¼Œç·šæ¢é®®æ˜ï¼Œè‰²å½©å¹³å¡—ã€‚' },
                { label: 'æ°´å¢¨ç•« (Sumi-e)', val: 'Sumi-e Ink Wash', desc: 'ä½¿ç”¨å¢¨çš„æ¿ƒæ·¡ä¾†è¡¨ç¾å±¤æ¬¡ï¼Œç•™ç™½èˆ‡æ„å¢ƒç‚ºä¸»ã€‚' },
                { label: 'æ—¥æœ¬ç•« (Nihonga)', val: 'Nihonga', desc: 'ä½¿ç”¨å¤©ç„¶ç¤¦ç‰©é¡æ–™ï¼Œè³ªæ„Ÿç´°è†©ï¼Œå‚³çµ±æ—¥å¼ç¾å­¸ã€‚' },
                { label: 'é‡‘ç¹¼ (Kintsugi)', val: 'Kintsugi', desc: 'ç”¨é‡‘æ¼†ä¿®è£œé™¶å™¨è£‚ç—•çš„è—è¡“ï¼Œè±¡å¾µä¸å®Œç¾ä¹‹ç¾ã€‚' },
                { label: 'ä¾˜å¯‚ (Wabi-sabi)', val: 'Wabi-sabi', desc: 'æ¥å—çŸ­æš«èˆ‡ä¸å®Œç¾ï¼Œå‘ˆç¾æ¯æ·¡ã€æ¨¸ç´ çš„è‡ªç„¶ç¾ã€‚' },
                { label: 'æ˜­å’Œå¾©å¤ (Showa Retro)', val: 'Showa Retro', desc: 'æ—¥æœ¬ 60-80 å¹´ä»£çš„æ‡·èˆŠé¢¨æ ¼ï¼Œæº«æš–æ³›é»ƒçš„è‰²èª¿ã€‚' },
                { label: 'åŸå¸‚æµè¡Œ (City Pop)', val: 'City Pop Aesthetic', desc: '80 å¹´ä»£ City Pop éŸ³æ¨‚å°é¢é¢¨æ ¼ï¼Œéƒ½æœƒã€åº¦å‡ã€æ¸…çˆ½ã€‚' },
                { label: 'å¡å“‡ä¼Š (Kawaii)', val: 'Kawaii Style', desc: 'å¼·èª¿å¯æ„›ã€ç²‰å«©è‰²å½©ã€åœ“æ½¤é€ å‹çš„é¢¨æ ¼ã€‚' },
                { label: 'åŸå®¿é¢¨ (Harajuku)', val: 'Harajuku Fashion', desc: 'è‰²å½©ç¹½ç´›ã€å¤§è†½èª‡å¼µçš„æ—¥æœ¬è¡—é ­æ™‚å°šé¢¨æ ¼ã€‚' },
                { label: 'å°‘å¹´æ¼«ç•« (Shonen Manga)', val: 'Shonen Manga Style', desc: 'å¼·èª¿ç†±è¡€ã€å‹•ä½œç·šã€é»‘ç™½å°æ¯”å¼·çƒˆçš„æ¼«ç•«é¢¨æ ¼ã€‚' },
                { label: 'å°‘å¥³æ¼«ç•« (Shojo Manga)', val: 'Shojo Manga Style', desc: 'å¤§çœ¼ç›ã€è¯éº—ç¶²é»ã€å”¯ç¾æµªæ¼«çš„æ°›åœã€‚' },
                { label: 'å‰åœåŠ› (Studio Ghibli)', val: 'Studio Ghibli', desc: 'å®®å´é§¿å‹•ç•«é¢¨æ ¼ï¼Œç´°è†©çš„æ‰‹ç¹ªèƒŒæ™¯èˆ‡é®®æ´»çš„è§’è‰²ã€‚' },
                { label: 'æ–°æµ·èª  (Makoto Shinkai)', val: 'Makoto Shinkai', desc: 'æ¥µè‡´çš„å…‰å½±ç´°ç¯€ï¼Œå¦‚ç…§ç‰‡èˆ¬å¯«å¯¦ä½†æ›´å”¯ç¾çš„å¤©ç©ºèˆ‡èƒŒæ™¯ã€‚' },
                { label: 'æ‘ºç´™è—è¡“ (Origami)', val: 'Origami Style', desc: 'æ¨¡æ“¬ç´™å¼µæŠ˜ç–Šçš„å¹¾ä½•è³ªæ„Ÿèˆ‡ç«‹é«”æ§‹é€ ã€‚' },
                { label: 'å‰ªç´™ (Kirigami)', val: 'Kirigami', desc: 'å±¤ç–Šçš„ç´™å¼µè³ªæ„Ÿï¼Œåˆ©ç”¨é™°å½±å‰µé€ æ·±åº¦çš„è—è¡“ã€‚' },
                { label: 'å­”ç‰ˆå°åˆ· (Risograph)', val: 'Risograph', desc: 'é¡ä¼¼çµ¹å°çš„ç²—ç³™é¡†ç²’æ„Ÿï¼Œè‰²å½©é®®è±”ä¸”å¸¸æœ‰éŒ¯ä½æ•ˆæœã€‚' },
                { label: 'ç‰¹æ”æ€ªç¸ (Kaiju)', val: 'Kaiju Movie Style', desc: 'æ¨¡æ“¬æ—¥æœ¬ç‰¹æ”é›»å½±ï¼ˆå¦‚å“¥å‰æ‹‰ï¼‰çš„çš®å¥—èˆ‡å¾®ç¸®æ¨¡å‹è³ªæ„Ÿã€‚' },
                { label: 'æ—¥å¼å’ŒæŸ„ (Japanese Pattern)', val: 'Japanese Traditional Pattern', desc: 'å‚³çµ±æ—¥æœ¬åœ–é¨°ï¼ˆå¦‚é’æµ·æ³¢ã€éº»è‘‰ç´‹ï¼‰çš„è£é£¾é¢¨æ ¼ã€‚' },
                { label: 'æ—¥å¼è³½åšé¾å…‹ (JP Cyberpunk)', val: 'Japanese Cyberpunk', desc: 'çµåˆé«˜ç§‘æŠ€èˆ‡æ—¥æœ¬å‚³çµ±å…ƒç´ ï¼ˆå¦‚éœ“è™¹é³¥å±…ï¼‰çš„é¢¨æ ¼ã€‚' },
                { label: 'Qç‰ˆè§’è‰² (Chibi)', val: 'Chibi Character', desc: 'é ­å¤§èº«å°çš„äºŒé ­èº«å¯æ„›è§’è‰²é€ å‹ã€‚' },
                { label: 'ç…§ç‰‡å¯«å¯¦ (Photorealistic)', val: 'Photorealistic', desc: 'åƒç…§ç‰‡ä¸€æ¨£çœŸå¯¦ï¼Œé›£ä»¥åˆ†è¾¨æ˜¯ç¹ªåœ–ã€‚' },
                { label: 'è¶…å¯«å¯¦ (Hyperrealistic)', val: 'Hyperrealistic', desc: 'æ¯”ç…§ç‰‡æ›´çœŸå¯¦ï¼Œå¼·èª¿æ¯›å­”ã€ç´‹ç†ç­‰æ¥µè‡´ç´°ç¯€ã€‚' },
                { label: 'è™›å¹»å¼•æ“5 (UE5)', val: 'Unreal Engine 5', desc: 'æ¬¡ä¸–ä»£éŠæˆ²å¼•æ“çš„æ¸²æŸ“è³ªæ„Ÿï¼Œå…‰å½±ç‰©ç†æ¥µåº¦çœŸå¯¦ã€‚' },
                { label: '8K è§£æåº¦ (8k)', val: '8k Resolution', desc: 'æ¥µé«˜è§£æåº¦ï¼Œç¢ºä¿ç´°ç¯€éŠ³åˆ©æ¸…æ™°ã€‚' },
                { label: 'æ­ç¾å‹•æ¼« (Anime)', val: 'Anime', desc: 'é¡ä¼¼ç¾å¼å¡é€šæˆ–ç¾ä»£å‹•ç•«çš„é¢¨æ ¼ã€‚' },
                { label: 'è³½åšé¾å…‹ (Cyberpunk)', val: 'Cyberpunk', desc: 'é«˜ç§‘æŠ€ä½ç”Ÿæ´»ï¼Œéœ“è™¹ç‡ˆã€é›¨å¤œã€æ©Ÿæ¢°ç¾©è‚¢ã€‚' },
                { label: 'è’¸æ°£é¾å…‹ (Steampunk)', val: 'Steampunk', desc: 'ç¶­å¤šåˆ©äºæ™‚ä»£çµåˆè’¸æ±½å‹•åŠ›çš„å¾©å¤ç§‘å¹»ã€‚' },
                { label: 'åˆæˆæ³¢ (Synthwave)', val: 'Synthwave', desc: '80 å¹´ä»£å¾©å¤æœªä¾†ä¸»ç¾©ï¼Œç´«è‰²èˆ‡æ´‹ç´…è‰²çš„éœ“è™¹ç¶²æ ¼ã€‚' },
                { label: 'è’¸æ°£æ³¢ (Vaporwave)', val: 'Vaporwave', desc: 'çµåˆ 90 å¹´ä»£ç¶²è·¯æ–‡åŒ–ã€é›•åƒã€ç²‰è‰²èª¿çš„è¿·å¹»é¢¨æ ¼ã€‚' },
                { label: 'ç§‘å¹» (Sci-Fi)', val: 'Sci-Fi', desc: 'æœªä¾†ç§‘æŠ€ã€å¤ªç©ºèˆ¹ã€å¤–æ˜Ÿæ–‡æ˜çš„è¦–è¦ºé¢¨æ ¼ã€‚' },
                { label: 'æ²¹ç•« (Oil Painting)', val: 'Oil Painting', desc: 'åšé‡çš„é¡æ–™å †ç–Šè³ªæ„Ÿï¼Œç¶“å…¸ç¹ªç•«é¢¨æ ¼ã€‚' },
                { label: 'å°è±¡æ´¾ (Impressionism)', val: 'Impressionism', desc: 'å¼·èª¿å…‰å½±è®ŠåŒ–ï¼Œç­†è§¸æ˜é¡¯ï¼Œä¸æ‹˜æ³¥æ–¼ç´°ç¯€ã€‚' },
                { label: 'æ°´å½© (Watercolor)', val: 'Watercolor', desc: 'é¡æ–™æµå‹•èˆ‡æšˆæŸ“çš„é€æ˜è³ªæ„Ÿï¼Œæ¸…é€æŸ”å’Œã€‚' },
                { label: 'ç´ æ (Sketch)', val: 'Sketch', desc: 'é‰›ç­†æˆ–ç‚­ç­†çš„å–®è‰²ç·šæ¢ç¹ªç•«ã€‚' },
                { label: 'æ™®æ™®è—è¡“ (Pop Art)', val: 'Pop Art', desc: 'é«˜é£½å’Œåº¦è‰²å½©ï¼Œå¤§çœ¾æ–‡åŒ–ç¬¦è™Ÿï¼Œé¡ä¼¼å®‰è¿ªæ²ƒè·é¢¨æ ¼ã€‚' },
                { label: 'è¶…ç¾å¯¦ä¸»ç¾© (Surrealism)', val: 'Surrealism', desc: 'å¤¢å¢ƒèˆ¬çš„ç•«é¢ï¼Œä¸åˆé‚è¼¯çš„ç‰©é«”çµ„åˆï¼ˆå¦‚é”åˆ©ï¼‰ã€‚' },
                { label: 'æ¥µç°¡ä¸»ç¾© (Minimalist)', val: 'Minimalist', desc: 'å»é™¤å¤šé¤˜å…ƒç´ ï¼Œå¼·èª¿ç°¡å–®çš„å¹¾ä½•èˆ‡è‰²å½©ã€‚' },
                { label: 'åŒ…æµ©æ–¯ (Bauhaus)', val: 'Bauhaus', desc: 'åŠŸèƒ½ä¸»ç¾©ï¼Œå¹¾ä½•é€ å‹ï¼Œç´…é»ƒè—ä¸‰åŸè‰²æ­é…ã€‚' },
                { label: 'åƒç´ è—è¡“ (Pixel Art)', val: 'Pixel Art', desc: 'å¾©å¤ 8-bit æˆ– 16-bit éŠæˆ²çš„é»é™£åœ–é¢¨æ ¼ã€‚' },
                { label: 'ä½é¢æ•¸ (Low Poly)', val: 'Low Poly', desc: 'ç”±å¤šé‚Šå½¢çµ„æˆçš„ 3D æ¨¡å‹é¢¨æ ¼ï¼Œç¨œè§’åˆ†æ˜ã€‚' },
                { label: '3D æ¸²æŸ“ (3D Render)', val: '3D Render', desc: 'é€šç”¨çš„ 3D é›»è…¦ç¹ªåœ–è³ªæ„Ÿã€‚' },
                { label: 'Blender', val: 'Blender', desc: 'é–‹æº 3D è»Ÿé«”çš„å…¸å‹æ¸²æŸ“é¢¨æ ¼ï¼Œä¹¾æ·¨ç¾ä»£ã€‚' },
                { label: 'æ¦‚å¿µè—è¡“ (Concept Art)', val: 'Concept Art', desc: 'é›»å½±æˆ–éŠæˆ²é–‹ç™¼åˆæœŸçš„è¨­è¨ˆç¨¿é¢¨æ ¼ï¼Œå¼·èª¿æ°›åœã€‚' },
                { label: 'å‘é‡åœ– (Vector Art)', val: 'Vector Art', desc: 'æ•¸å­¸è¨ˆç®—çš„å¹³æ»‘ç·šæ¢ï¼Œç„¡é™æ”¾å¤§ä¸å¤±çœŸï¼Œé¡ä¼¼ Illustratorã€‚' },
                { label: 'æ‰å¹³è¨­è¨ˆ (Flat Design)', val: 'Flat Design', desc: 'ç„¡é™°å½±ã€ç„¡æ¼¸å±¤ï¼Œç°¡æ½”çš„ç¾ä»£ UI æ’ç•«é¢¨æ ¼ã€‚' },
                { label: 'å“¥å¾·å¼ (Gothic)', val: 'Gothic', desc: 'é»‘æš—ã€ç¥ç§˜ã€å°–å¡”ã€å½©è‰²ç»ç’ƒï¼Œä¸­ä¸–ç´€é¢¨æ ¼ã€‚' },
                { label: 'é»‘è‰²é›»å½± (Noir)', val: 'Noir', desc: 'é«˜å°æ¯”é»‘ç™½æ”å½±ï¼Œå¼·èª¿é™°å½±èˆ‡æ‡¸ç–‘æ„Ÿã€‚' },
                { label: 'å¾©å¤ (Vintage)', val: 'Vintage', desc: 'æ³›æŒ‡èˆŠæ™‚ä»£çš„è³ªæ„Ÿï¼Œå¸¶æœ‰æ­²æœˆç—•è·¡ã€‚' },
                { label: 'æ‹ç«‹å¾— (Polaroid)', val: 'Polaroid', desc: 'æ¨¡æ“¬å³é¡¯åº•ç‰‡çš„è‰²å½©åç§»èˆ‡é‚Šæ¡†è³ªæ„Ÿã€‚' }
            ],
            "ç‰ˆå‹èˆ‡æ§‹åœ– (Layout)": [
                { label: 'ä¸‰åˆ†æ³•æ§‹åœ– (Rule of Thirds)', val: 'Rule of Thirds', desc: 'å°‡ç•«é¢åˆ†ç‚ºä¹å®®æ ¼ï¼Œä¸»é«”æ”¾åœ¨äº¤å‰é»ä¸Šã€‚' },
                { label: 'ä¸­å¿ƒæ§‹åœ– (Center)', val: 'Center Composition', desc: 'ä¸»é«”ä½æ–¼ç•«é¢æ­£ä¸­å¤®ï¼Œå¼·èª¿å°ç¨±èˆ‡å°ˆæ³¨ã€‚' },
                { label: 'é»ƒé‡‘æ¯”ä¾‹ (Golden Ratio)', val: 'Golden Ratio', desc: 'ç¬¦åˆæ•¸å­¸ç¾å­¸çš„èºæ—‹æ§‹åœ–ï¼Œè¦–è¦ºæœ€å’Œè«§çš„æ¯”ä¾‹ã€‚' },
                { label: 'å¹³é‹ªæ’åˆ— (Knolling)', val: 'Knolling', desc: 'å°‡ç‰©é«”æ‹†è§£ä¸¦æ•´é½Šå¹³è¡Œæ’åˆ—ï¼ˆé–‹ç®±ç…§é¢¨æ ¼ï¼‰ã€‚' },
                { label: 'ç­‰è§’è¦–åœ– (Isometric)', val: 'Isometric', desc: '2.5D è¦–è§’ï¼Œç„¡è¿‘å¤§é å°ï¼Œå¸¸ç”¨æ–¼éŠæˆ²åœ°åœ–ã€‚' },
                { label: 'è² ç©ºé–“/ç•™ç™½ (Negative Space)', val: 'Negative Space', desc: 'å¤§é¢ç©ç©ºç™½ï¼Œå¼·èª¿å­¤ç¨æ„Ÿæˆ–æ¥µç°¡ç¾ã€‚' },
                { label: 'å¡«æ»¿ç•«é¢ (Fill the Frame)', val: 'Fill the Frame', desc: 'ä¸»é«”ä½”æ»¿æ•´å€‹ç‰ˆé¢ï¼Œç„¡èƒŒæ™¯ï¼Œå¼·èª¿ç´°ç¯€ã€‚' },
                { label: 'å°ç¨±æ§‹åœ– (Symmetrical)', val: 'Symmetrical', desc: 'å·¦å³æˆ–ä¸Šä¸‹å®Œå…¨é¡åƒï¼ŒèŠé‡ä¸”å¹³è¡¡ã€‚' },
                { label: 'æ‹¼è²¼é¢¨æ ¼ (Collage)', val: 'Collage', desc: 'å°‡ä¸åŒæè³ªæˆ–ç…§ç‰‡å‰ªè²¼çµ„åˆçš„è—è¡“æ•ˆæœã€‚' },
                { label: 'å…¨æ™¯åœ– (Panorama)', val: 'Panorama', desc: 'æ¥µå¯¬çš„é•·å¯¬æ¯”ï¼Œå±•ç¤ºå®å‰çš„é¢¨æ™¯ã€‚' },
                { label: 'é­šçœ¼è¦–è§’ (Fisheye)', val: 'Fisheye', desc: 'æ¥µåº¦æ‰­æ›²çš„å»£è§’æ•ˆæœï¼Œä¸­å¿ƒå‡¸èµ·ã€‚' },
                { label: 'ä¸‰è¯ç•« (Triptych)', val: 'Triptych', desc: 'ç”±ä¸‰å¹…ç•«çµ„æˆä¸€å€‹å®Œæ•´ä½œå“ã€‚' },
                { label: 'å››æ ¼ç¶²æ ¼ (2x2 Grid)', val: 'Grid 2x2', desc: '2x2 çš„æ¼«ç•«æˆ–æ™®æ™®è—è¡“æ’åˆ—ã€‚' },
                { label: 'ä¹å®®æ ¼ (3x3 Grid)', val: 'Grid 3x3', desc: '3x3 çš„å¤šåœ–æ’åˆ—ã€‚' },
                { label: 'å‚ç›´åˆ†å‰² (Split V)', val: 'Split Screen Vertical', desc: 'ç•«é¢å·¦å³åˆ†å‰²ï¼Œå°æ¯”å…©å€‹å ´æ™¯ã€‚' },
                { label: 'æ°´å¹³åˆ†å‰² (Split H)', val: 'Split Screen Horizontal', desc: 'ç•«é¢ä¸Šä¸‹åˆ†å‰²ï¼Œå¦‚æ°´ä¸Šæ°´ä¸‹ã€‚' },
                { label: 'é›œèªŒæ’ç‰ˆ (Magazine)', val: 'Magazine Layout', desc: 'çµåˆæ¨™é¡Œæ–‡å­—èˆ‡åœ–ç‰‡çš„æ™‚å°šæ’ç‰ˆã€‚' },
                { label: 'ç¶²é ä»‹é¢ (Web UI)', val: 'Web UI Layout', desc: 'æ¨¡æ“¬ç¶²ç«™æˆ– App çš„ UI è¨­è¨ˆä½ˆå±€ã€‚' },
                { label: 'å„€è¡¨æ¿ (Dashboard)', val: 'Dashboard UI', desc: 'å……æ»¿æ•¸æ“šåœ–è¡¨èˆ‡æ§åˆ¶é¢æ¿çš„ä»‹é¢ã€‚' },
                { label: 'è³‡è¨Šåœ–è¡¨ (Infographic)', val: 'Infographic', desc: 'ç”¨åœ–å½¢è§£é‡‹æ•¸æ“šæˆ–æµç¨‹çš„è¨­è¨ˆã€‚' },
                { label: 'é›»å½±æµ·å ± (Movie Poster)', val: 'Movie Poster Composition', desc: 'å¼·èª¿æ¨™é¡Œç©ºé–“èˆ‡è¦–è¦ºè¡æ“ŠåŠ›çš„æ§‹åœ–ã€‚' },
                { label: 'é›™é‡æ›å…‰ (Double Exposure)', val: 'Double Exposure', desc: 'å…©å¼µå½±åƒé‡ç–Šï¼ˆå¦‚äººå½±ä¸­æœ‰æ£®æ—ï¼‰ã€‚' },
                { label: 'æ¡†ä¸­æ¡† (Frame in Frame)', val: 'Frame within a Frame', desc: 'åˆ©ç”¨é–€çª—æˆ–æ´å£ä½œç‚ºå‰æ™¯æ¡†æ¶è§€å¯Ÿä¸»é«”ã€‚' }
            ],
            "é¡é ­èªè¨€ (Camera)": [
                { label: 'å»£è§’é¡é ­ (Wide Angle)', val: 'Wide Angle', desc: 'è¦–é‡å¯¬å»£ï¼Œå¼·èª¿ç©ºé–“æ„Ÿã€‚' },
                { label: 'è¶…å»£è§’ (Ultra Wide)', val: 'Ultra Wide Angle', desc: 'æ¥µåº¦å¯¬å»£çš„è¦–é‡ï¼Œé‚Šç·£å¯èƒ½è®Šå½¢ã€‚' },
                { label: 'é•·ç„¦é¡é ­ (Telephoto)', val: 'Telephoto', desc: 'å£“ç¸®ç©ºé–“æ„Ÿï¼Œæ‹‰è¿‘é è™•ç‰©é«”ï¼ŒèƒŒæ™¯æ¨¡ç³Šã€‚' },
                { label: 'å¾®è·æ”å½± (Macro)', val: 'Macro', desc: 'æ¥µè¿‘è·é›¢æ‹æ”å¾®å°ç‰©é«”ï¼ˆå¦‚æ˜†èŸ²è¤‡çœ¼ï¼‰ã€‚' },
                { label: 'é¡¯å¾®è¦–è§’ (Microscopic)', val: 'Microscopic', desc: 'é¡¯å¾®é¡ä¸‹çš„ç´°èƒæˆ–ç´°èŒè¦–è§’ã€‚' },
                { label: 'æ•£æ™¯/æ·ºæ™¯æ·± (Bokeh)', val: 'Bokeh', desc: 'èƒŒæ™¯æ¨¡ç³Šæˆå…‰æ–‘ï¼Œå‡¸é¡¯æ¸…æ™°çš„ä¸»é«”ã€‚' },
                { label: 'æ·±æ™¯æ·± (Deep Focus)', val: 'Deep Focus', desc: 'å¾å‰æ™¯åˆ°èƒŒæ™¯éƒ½æ¸…æ™°éŠ³åˆ©ï¼ˆå¦‚é¢¨æ™¯ç…§ï¼‰ã€‚' },
                { label: 'ä½è§’åº¦ (Low Angle)', val: 'Low Angle', desc: 'å¾ä¸‹å¾€ä¸Šæ‹ï¼Œè®“ä¸»é«”çœ‹èµ·ä¾†é«˜å¤§å¨åš´ã€‚' },
                { label: 'é«˜è§’åº¦ (High Angle)', val: 'High Angle', desc: 'å¾ä¸Šå¾€ä¸‹æ‹ï¼Œè®“ä¸»é«”çœ‹èµ·ä¾†æ¸ºå°ã€‚' },
                { label: 'é³¥ç°åœ– (Bird\'s Eye)', val: 'Bird\'s Eye View', desc: 'æ­£ä¸Šæ–¹çš„å‚ç›´ä¿¯è¦–åœ–ã€‚' },
                { label: 'ç©ºæ‹æ©Ÿ (Drone Shot)', val: 'Drone Shot', desc: 'åƒç„¡äººæ©Ÿåœ¨ç©ºä¸­æ‹æ”çš„å»£é—Šè¦–è§’ã€‚' },
                { label: 'èŸ²è¦–è§’ (Worm\'s Eye)', val: 'Worm\'s Eye View', desc: 'è²¼åœ¨åœ°é¢å‘ä¸Šä»°æœ›çš„è¦–è§’ã€‚' },
                { label: 'è·è˜­å¼å‚¾æ–œ (Dutch Angle)', val: 'Dutch Angle', desc: 'é¡é ­æ­ªæ–œï¼Œå‰µé€ ä¸å®‰æˆ–å‹•æ…‹æ„Ÿã€‚' },
                { label: 'ç¬¬ä¸€äººç¨± (POV)', val: 'POV', desc: 'æ¨¡æ“¬äººçœ¼çœ‹åˆ°çš„è¦–è§’ï¼ˆçœ‹åˆ°è‡ªå·±çš„æ‰‹ï¼‰ã€‚' },
                { label: 'è¶Šè‚©è¦–è§’ (Over Shoulder)', val: 'Over the Shoulder', desc: 'éš”è‘—è§’è‰²è‚©è†€çœ‹å°é¢ï¼Œå°è©±å¸¸è¦‹é¡é ­ã€‚' },
                { label: 'å´é¢è¦–è§’ (Profile)', val: 'Profile Shot', desc: 'å®Œå…¨å´é¢çš„è¦–è§’ï¼Œåƒå‰ªå½±æˆ–é€šç·ç…§ã€‚' },
                { label: 'ç†±æˆåƒ (Thermal)', val: 'Thermal Imaging', desc: 'æ¨¡æ“¬ç´…å¤–ç·šç†±æ„Ÿæ‡‰å„€çš„è‰²å½©ï¼ˆç´…ç†±è—å†·ï¼‰ã€‚' },
                { label: 'ç›£è¦–å™¨è¦–è§’ (CCTV)', val: 'CCTV View', desc: 'æ¨¡æ“¬ CCTV ä½ç•«è³ªèˆ‡ä¿¯è¦–è§’åº¦ã€‚' },
                { label: 'å‹•æ…‹æ¨¡ç³Š (Motion Blur)', val: 'Motion Blur', desc: 'ç‰©é«”ç§»å‹•ç”¢ç”Ÿçš„æ‹–å½±ï¼Œè¡¨ç¾é€Ÿåº¦æ„Ÿã€‚' },
                { label: 'é•·æ›å…‰ (Long Exposure)', val: 'Long Exposure', desc: 'è®“æµæ°´è®Šéœ§ç‹€æˆ–è»Šç‡ˆè®Šå…‰è»Œçš„æ…¢å¿«é–€æ•ˆæœã€‚' },
                { label: 'ç§»è»¸æ”å½± (Tilt-Shift)', val: 'Tilt-Shift', desc: 'è®“çœŸå¯¦å ´æ™¯çœ‹èµ·ä¾†åƒå¾®ç¸®ç©å…·æ¨¡å‹ã€‚' }
            ],
            "å…‰å½±æ°›åœ (Lighting)": [
                { label: 'é»ƒé‡‘æ™‚åˆ» (Golden Hour)', val: 'Golden Hour', desc: 'æ—¥å‡ºæ—¥è½æ™‚çš„é‡‘é»ƒè‰²æŸ”å…‰ã€‚' },
                { label: 'è—è‰²æ™‚åˆ» (Blue Hour)', val: 'Blue Hour', desc: 'æ—¥è½å¾Œå¤©ç©ºå‘ˆç¾æ·±è—è‰²çš„é­”å¹»æ™‚åˆ»ã€‚' },
                { label: 'æ­£åˆå…‰ (Noon)', val: 'Noon', desc: 'é ‚å…‰ï¼Œé™°å½±å¼·çƒˆä¸”çŸ­ï¼Œé«˜å°æ¯”ã€‚' },
                { label: 'è‡ªç„¶å…‰ (Natural Light)', val: 'Natural Light', desc: 'æ¨¡æ“¬å¤ªé™½æˆ–æœˆäº®çš„çœŸå¯¦å…‰ç·šã€‚' },
                { label: 'å½±æ£šå…‰ (Studio Light)', val: 'Studio Lighting', desc: 'å°ˆæ¥­æ”å½±æ£šçš„å®Œç¾æ§å…‰ã€‚' },
                { label: 'æŸ”å…‰ç®± (Softbox)', val: 'Softbox', desc: 'æŸ”å’Œç„¡é™°å½±çš„äººåƒå…‰ç·šã€‚' },
                { label: 'å€«å‹ƒæœ—å…‰ (Rembrandt)', val: 'Rembrandt Lighting', desc: 'è‡‰é °ä¸Šæœ‰å€’ä¸‰è§’å½¢å…‰æ–‘çš„ç¶“å…¸æˆ²åŠ‡å…‰ã€‚' },
                { label: 'è¼ªå»“å…‰ (Rim Light)', val: 'Rim Light', desc: 'å¾èƒŒå¾Œå‹¾å‹’ç‰©é«”é‚Šç·£çš„äº®å…‰ã€‚' },
                { label: 'é€†å…‰ (Backlighting)', val: 'Backlighting', desc: 'å…‰æºåœ¨ä¸»é«”å¾Œæ–¹ï¼Œä½¿ä¸»é«”è®Šæš—æˆ–ç”¢ç”Ÿå…‰æšˆã€‚' },
                { label: 'é«”ç©å…‰ (Volumetric)', val: 'Volumetric Lighting', desc: 'ç©ºæ°£ä¸­æœ‰ç°å¡µæˆ–éœ§æ°£æ™‚å½¢æˆçš„å¯è¦‹å…‰æŸï¼ˆä¸é”çˆ¾æ•ˆæ‡‰ï¼‰ã€‚' },
                { label: 'è€¶ç©Œå…‰ (God Rays)', val: 'God Rays', desc: 'é›²å±¤ç¸«éš™æ’’ä¸‹çš„å£¯éº—å…‰æŸã€‚' },
                { label: 'éœ“è™¹ç‡ˆ (Neon Lights)', val: 'Neon Lights', desc: 'è³½åšé¾å…‹é¢¨æ ¼çš„é«˜é£½å’Œåº¦å½©è‰²å…‰ã€‚' },
                { label: 'è³½åšé¾å…‹å…‰ (Cyberpunk)', val: 'Cyberpunk Lighting', desc: 'è—ç´«èˆ‡é’è‰²å°æ¯”çš„å†·é…·å…‰ç·šã€‚' },
                { label: 'é›»å½±å…‰æ„Ÿ (Cinematic)', val: 'Cinematic Lighting', desc: 'é«˜å‹•æ…‹ç¯„åœï¼Œæˆ²åŠ‡æ€§å¼·çš„é›»å½±ç´šæ‰“å…‰ã€‚' },
                { label: 'ç‡­å…‰ (Candlelight)', val: 'Candlelight', desc: 'æº«æš–ã€æ–æ›³ã€å¾®å¼±çš„ç«å…‰ã€‚' },
                { label: 'ç«å…‰ (Firelight)', val: 'Firelight', desc: 'æ©™ç´…è‰²ã€å‹•æ…‹å¼·çƒˆçš„ç‡ƒç‡’å…‰ç·šã€‚' },
                { label: 'ç”Ÿç‰©ç™¼å…‰ (Bioluminescent)', val: 'Bioluminescent', desc: 'åƒè¢ç«èŸ²æˆ–æ·±æµ·é­šç™¼å‡ºçš„å†·å…‰ã€‚' },
                { label: 'æš—èª¿ (Low Key)', val: 'Low Key', desc: 'ç•«é¢å¤§éƒ¨åˆ†æ˜¯é»‘è‰²çš„ï¼Œå¼·èª¿ç¥ç§˜æ„Ÿã€‚' },
                { label: 'äº®èª¿ (High Key)', val: 'High Key', desc: 'ç•«é¢æ˜äº®æ½”ç™½ï¼Œå¼·èª¿ç´”æ·¨æ„Ÿã€‚' },
                { label: 'å‰ªå½± (Silhouette)', val: 'Silhouette', desc: 'ä¸»é«”å…¨é»‘ï¼Œåªçœ‹å¾—åˆ°è¼ªå»“ã€‚' }
            ],
            "æè³ªè³ªæ„Ÿ (Materials)": [
                { label: 'ç»ç’ƒ (Glass)', val: 'Glass', desc: 'é€æ˜ã€åå…‰ã€æŠ˜å°„è³ªæ„Ÿã€‚' },
                { label: 'éœ§é¢ç»ç’ƒ (Frosted)', val: 'Frosted Glass', desc: 'åŠé€æ˜ã€æ¨¡ç³Šçš„æŸ”å’Œè³ªæ„Ÿã€‚' },
                { label: 'é‡‘å±¬ (Metal)', val: 'Metal', desc: 'ç¡¬æœ—ã€åå…‰çš„å†·è³ªæ„Ÿã€‚' },
                { label: 'é«®çµ²ç´‹ (Brushed Metal)', val: 'Brushed Metal', desc: 'å¸¶æœ‰ç´°å¾®å¹³è¡Œç´‹è·¯çš„é‡‘å±¬è³ªæ„Ÿã€‚' },
                { label: 'é»ƒé‡‘ (Gold)', val: 'Gold', desc: 'é‡‘é»ƒè‰²ã€é«˜è²´ã€å¼·çƒˆåå…‰ã€‚' },
                { label: 'é‰»é‡‘å±¬ (Chrome)', val: 'Chrome', desc: 'éŠ€è‰²é¡é¢åå°„çš„ç§‘å¹»è³ªæ„Ÿã€‚' },
                { label: 'éµé½ (Rust)', val: 'Rust', desc: 'ç²—ç³™ã€ç´…è¤è‰²çš„æ°§åŒ–è³ªæ„Ÿã€‚' },
                { label: 'æœ¨é ­ (Wood)', val: 'Wood', desc: 'æº«æš–ã€è‡ªç„¶çš„ç´‹ç†ã€‚' },
                { label: 'å¤§ç†çŸ³ (Marble)', val: 'Marble', desc: 'é«˜é›…çš„çŸ³æç´‹è·¯ï¼Œé€šå¸¸ç‚ºç™½åº•ç°ç´‹ã€‚' },
                { label: 'æ··å‡åœŸ (Concrete)', val: 'Concrete', desc: 'ç²—ç·ã€ç°è‰²çš„å·¥æ¥­é¢¨è³ªæ„Ÿã€‚' },
                { label: 'ç£šå¡Š (Brick)', val: 'Brick', desc: 'è¦å¾‹æ’åˆ—çš„å»ºç¯‰è³ªæ„Ÿã€‚' },
                { label: 'å¸ƒæ–™ (Fabric)', val: 'Fabric', desc: 'æŸ”è»Ÿã€æœ‰çº–ç¶­ç´°ç¯€çš„æè³ªã€‚' },
                { label: 'çµ²ç¶¢ (Silk)', val: 'Silk', desc: 'å…‰æ»‘ã€æœ‰å…‰æ¾¤çš„æŸ”è»Ÿå¸ƒæ–™ã€‚' },
                { label: 'çš®é© (Leather)', val: 'Leather', desc: 'æœ‰æ¯›å­”ç´‹ç†çš„åšå¯¦è³ªæ„Ÿã€‚' },
                { label: 'å¡‘è†  (Plastic)', val: 'Plastic', desc: 'å…‰æ»‘ã€äººé€ ã€è‰²å½©é£½å’Œçš„è³ªæ„Ÿã€‚' },
                { label: 'ç¢³çº–ç¶­ (Carbon Fiber)', val: 'Carbon Fiber', desc: 'é»‘ç°äº¤ç¹”çš„é«˜ç§‘æŠ€ç·¨ç¹”ç´‹è·¯ã€‚' },
                { label: 'é›·å°„å…¨åƒ (Holographic)', val: 'Holographic', desc: 'éš¨è§’åº¦è®Šè‰²çš„å½©è™¹å…‰æ¾¤ï¼ˆåƒé›·å°„è²¼ç´™ï¼‰ã€‚' },
                { label: 'äº®ç²‰ (Glitter)', val: 'Glitter', desc: 'é–ƒçˆçš„ç´°å°é¡†ç²’è³ªæ„Ÿã€‚' },
                { label: 'è Ÿè³ªæ„Ÿ (Wax)', val: 'Wax', desc: 'åŠé€æ˜ã€æº«æ½¤çš„è³ªæ„Ÿã€‚' },
                { label: 'å†° (Ice)', val: 'Ice', desc: 'æ™¶ç‘©å‰”é€ã€å¯’å†·çš„è³ªæ„Ÿã€‚' },
                { label: 'æ°´ (Water)', val: 'Water', desc: 'æµå‹•ã€é€æ˜ã€åå…‰çš„æ¶²é«”ã€‚' },
                { label: 'ç…™éœ§ (Smoke)', val: 'Smoke', desc: 'é£„æ¸ºã€ç„¡å®šå½¢çš„æ°£é«”è³ªæ„Ÿã€‚' }
            ]
        };

        const PRESET_GROUPS = {
            "âœˆï¸ æ—…è¡Œèˆ‡æ‰‹å¸³ (Travel & Journal)": {
                travel_kyoto_sketch: {
                    name: 'äº¬éƒ½è¡—é ­é€Ÿå¯« (Kyoto Sketch)',
                    desc: 'Detailed urban sketch of Kyoto streets with traditional buildings using ink and watercolor.',
                    subject: 'Old street in Kyoto with wooden machiya',
                    title: 'Kyoto Memories',
                    styles: ['Ink Illustration', 'Watercolor', 'Sketch', 'Urban Sketching'],
                    sections: [],
                    ar: '4:5',
                    texture: 'on watercolor paper texture'
                },
                travel_food_diary: {
                    name: 'ç¾é£Ÿæ‰‹å¸³ (Food Diary)',
                    desc: 'Cute colored pencil illustration of a ramen bowl, top-down view.',
                    subject: 'Delicious ramen bowl with toppings',
                    title: 'Oishii!',
                    styles: ['Colored Pencil Sketch', 'Food Illustration', 'Cute', 'Top Down'],
                    sections: [{ visual: '', param: '', textBlocks: [{ content: 'Tonkotsu Ramen', level: 'Caption', font: 'Handwritten' }] }],
                    ar: '1:1',
                    texture: 'on lined notebook paper'
                },
                travel_map_doodle: {
                    name: 'æ—…è¡Œåœ°åœ– (Map Doodle)',
                    desc: 'Hand-drawn map with cute icons of landmarks on kraft paper.',
                    subject: 'Tourist map of Paris',
                    title: 'Paris Map',
                    styles: ['Doodle Art', 'Map Design', 'Cute Icons', 'Handwritten'],
                    sections: [],
                    ar: '4:3',
                    texture: 'on kraft paper texture'
                },
                travel_cafe_moment: {
                    name: 'å’–å•¡å»³æ™‚å…‰ (Cafe)',
                    desc: 'Relaxing marker pen drawing of coffee and cake on a wooden table.',
                    subject: 'Coffee cup and strawberry cake',
                    title: 'Afternoon Tea',
                    styles: ['Marker Pen Art', 'Relaxing', 'Warm Colors'],
                    sections: [],
                    ar: '3:4',
                    texture: 'on notebook paper'
                },
                travel_landscape_charcoal: {
                    name: 'å±±æ°´ç‚­ç­† (Charcoal Landscape)',
                    desc: 'Dramatic charcoal sketch of mountain scenery.',
                    subject: 'Swiss Alps mountains',
                    title: 'The Alps',
                    styles: ['Charcoal Drawing', 'High Contrast', 'Dramatic', 'Sketch'],
                    sections: [],
                    ar: '16:9',
                    texture: 'on textured paper'
                },
                travel_botanical_ink: {
                    name: 'æ¤ç‰©æ¨™æœ¬ (Botanical)',
                    desc: 'Vintage style botanical ink drawing of local flora.',
                    subject: 'Tropical fern leaves',
                    title: 'Flora',
                    styles: ['Ink Illustration', 'Vintage Scientific', 'Detailed', 'Botanical'],
                    sections: [],
                    ar: '2:3',
                    texture: 'on old parchment paper'
                },
                travel_blueprint_museum: {
                    name: 'åšç‰©é¤¨è—åœ– (Blueprint)',
                    desc: 'Architectural blueprint style drawing of a famous museum facade.',
                    subject: 'British Museum facade',
                    title: 'Architecture',
                    styles: ['Blueprint Style', 'Architectural Drawing', 'Technical', 'Blue'],
                    sections: [],
                    ar: '16:9',
                    texture: 'on blueprint paper'
                },
                travel_postcard_gouache: {
                    name: 'é¢¨æ™¯æ˜ä¿¡ç‰‡ (Gouache)',
                    desc: 'Vibrant gouache painting of a seaside town like Cinque Terre.',
                    subject: 'Cinque Terre houses on cliff',
                    title: 'Summer',
                    styles: ['Gouache Painting', 'Vibrant Colors', 'Flat Style', 'Travel Poster'],
                    sections: [],
                    ar: '2:3',
                    texture: 'on watercolor paper texture'
                }
            },
            "ğŸ“ å°ˆæ¥­æ’ç‰ˆ (Professional Layouts)": {
                layout_swiss_grid: {
                    name: 'ç‘å£«é¢¨æ ¼ (Swiss Style)',
                    desc: 'International Typographic Style using asymmetric grids and sans-serif typography.',
                    subject: 'Abstract geometric shapes',
                    title: 'Modernism',
                    styles: ['Swiss Design', 'Bauhaus', 'Grid System', 'Helvetica'],
                    sections: [{ visual: 'Geometric shapes', param: 'Red and Black', textBlocks: [{ content: 'HELVETICA', level: 'H1', font: 'Helvetica' }] }],
                    ar: '2:3',
                    texture: ''
                },
                layout_bento_grid: {
                    name: 'ä¾¿ç•¶ç›’ä½ˆå±€ (Bento Grid)',
                    desc: 'Apple-style modular grid layout for showcasing features or products.',
                    subject: 'Tech product features',
                    title: 'Features',
                    styles: ['Bento Grid', 'Rounded Corners', 'Glassmorphism', 'Clean UI'],
                    sections: [],
                    ar: '4:3',
                    texture: ''
                },
                layout_split_screen: {
                    name: 'å·¦å³åˆ†å‰² (Split Screen)',
                    desc: 'High contrast split screen composition, ideal for comparisons.',
                    subject: 'Day vs Night landscape',
                    title: 'Duality',
                    styles: ['Split Screen', 'Contrast', 'Symmetrical'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                layout_magazine_spread: {
                    name: 'é›œèªŒè·¨é  (Mag Spread)',
                    desc: 'Two-page layout look with text column and full bleed image.',
                    subject: 'Fashion editorial',
                    title: 'Interview',
                    styles: ['Magazine Layout', 'Editorial', 'Typography'],
                    sections: [{ visual: 'Full page photo left', param:'', textBlocks: [] }, { visual: 'Text columns right', param:'', textBlocks: [{ content: 'The Interview', level: 'H1', font: '' }] }],
                    ar: '3:2',
                    texture: ''
                },
                layout_z_pattern: {
                    name: 'Zå‹è¦–è¦º (Z-Pattern)',
                    desc: 'Guide the eye from top-left to bottom-right, standard for landing pages.',
                    subject: 'Website landing page',
                    title: 'Landing',
                    styles: ['Web UI', 'UX Design', 'Clean'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                layout_central_hero: {
                    name: 'ä¸­å¿ƒè‹±é›„ (Central Hero)',
                    desc: 'Subject centered with radiating elements, strong focal point.',
                    subject: 'Super hero character',
                    title: 'Hero',
                    styles: ['Symmetrical', 'Central Composition', 'Epic Lighting'],
                    sections: [],
                    ar: '2:3',
                    texture: ''
                },
                layout_diagonal_tension: {
                    name: 'å°è§’ç·šå¼µåŠ› (Diagonal)',
                    desc: 'Dynamic composition using diagonal lines to create movement.',
                    subject: 'Sports car drifting',
                    title: 'Speed',
                    styles: ['Dynamic Angle', 'Motion Blur', 'Action'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                layout_white_space: {
                    name: 'æ¥µè‡´ç•™ç™½ (White Space)',
                    desc: 'Minimalist layout with massive negative space for elegance.',
                    subject: 'Small perfume bottle',
                    title: 'Essence',
                    styles: ['Minimalist', 'Negative Space', 'High Key'],
                    sections: [],
                    ar: '4:5',
                    texture: ''
                },
                layout_typographic_poster: {
                    name: 'æ–‡å­—æµ·å ± (Typographic)',
                    desc: 'Image constructed primarily from large, bold typography.',
                    subject: 'Typography art',
                    title: 'BOLD',
                    styles: ['Typography', 'Poster Design', 'Contrast'],
                    sections: [{ visual:'', param:'', textBlocks: [{ content: 'FUTURE', level: 'H1', font: 'Bold Display' }] }],
                    ar: '2:3',
                    texture: ''
                },
                layout_collage_art: {
                    name: 'æ‹¼è²¼è—è¡“ (Collage)',
                    desc: 'Mixed media layered look, chaotic but artistic.',
                    subject: 'Vintage retro futuristic collage',
                    title: 'Memory',
                    styles: ['Collage', 'Mixed Media', 'Dadaism', 'Retro'],
                    sections: [],
                    ar: '3:4',
                    texture: ''
                },
                layout_rule_thirds: {
                    name: 'ä¸‰åˆ†æ³• (Rule of Thirds)',
                    desc: 'Subject placed at intersection points for balanced composition.',
                    subject: 'Lonely tree in field',
                    title: 'Solitude',
                    styles: ['Photography Rule', 'Balanced', 'Golden Hour'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                layout_frame_in_frame: {
                    name: 'æ¡†ä¸­æ¡† (Frame in Frame)',
                    desc: 'Using environmental elements to frame the subject.',
                    subject: 'View through a window',
                    title: 'Perspective',
                    styles: ['Depth', 'Framing', 'Interior'],
                    sections: [],
                    ar: '4:5',
                    texture: ''
                },
                layout_infographic_step: {
                    name: 'æ­¥é©Ÿåœ– (Step Process)',
                    desc: 'Sequential layout showing a process (1-2-3).',
                    subject: 'Coffee brewing process',
                    title: 'How to Brew',
                    styles: ['Infographic', 'Flat Design', 'Vector'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                layout_isometric_room: {
                    name: 'ç­‰è§’æˆ¿é–“ (Isometric Room)',
                    desc: '3D cutaway view of a room in isometric projection.',
                    subject: 'Gamer room setup',
                    title: 'My Setup',
                    styles: ['Isometric', '3D Render', 'Cute', 'Low Poly'],
                    sections: [],
                    ar: '1:1',
                    texture: ''
                },
                layout_knolling_flat: {
                    name: 'é–‹ç®±å¹³é‹ª (Knolling)',
                    desc: 'Items arranged at 90 degree angles, organized flat lay.',
                    subject: 'Travel essentials',
                    title: 'EDC',
                    styles: ['Knolling', 'Flat Lay', 'Organized', 'Top Down'],
                    sections: [],
                    ar: '4:3',
                    texture: ''
                }
            },
            "ğŸ¥ é†«ç™‚èˆ‡ç§‘å­¸ (Medical & Science)": {
                edu_asthma: {
                    name: 'æ°£å–˜è¡›æ•™ (Asthma)',
                    desc: 'Clear illustration of airway inflammation for patient education.',
                    subject: 'Pediatric asthma airway comparison',
                    title: 'Asthma Care',
                    styles: ['Japanese Hand-Drawn Style', 'Educational', 'Soft Colors', 'Clean Outline'],
                    sections: [
                        { visual: 'Normal airway vs Inflamed airway', param: 'cross-section illustration, pink vs red', textBlocks: [{ content: 'å¥åº·æ°£ç®¡ vs ç™¼ç‚æ°£ç®¡', level: 'H2', font: 'Microsoft JhengHei' }] },
                        { visual: 'Inhaler device', param: 'simple vector style', textBlocks: [{ content: 'ä½¿ç”¨å¸å…¥å™¨', level: 'Caption', font: 'Microsoft JhengHei' }] }
                    ],
                    ar: '4:5',
                    texture: ''
                },
                med_cardio_stent: {
                    name: 'å¿ƒè‡Ÿæ”¯æ¶ (Stent)',
                    desc: 'Detailed 3D cross-section of a coronary artery with a mesh stent.',
                    subject: 'Coronary artery with stent',
                    title: 'Heart Health',
                    styles: ['3D Render', 'Medical Illustration', 'Cross Section', 'Detailed'],
                    sections: [{ visual: 'Metal mesh stent expanding artery', param:'', textBlocks: [{ content: 'Coronary Stent', level: 'Caption', font:'' }] }],
                    ar: '4:3',
                    texture: ''
                },
                med_neuro_synapse: {
                    name: 'ç¥ç¶“çªè§¸ (Synapse)',
                    desc: 'Close-up of a chemical synapse releasing neurotransmitters.',
                    subject: 'Chemical synapse',
                    title: 'Neurotransmission',
                    styles: ['Microscopic', 'Bioluminescent', 'Particles', 'Depth of Field'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                },
                med_mri: {
                    name: 'MRI è…¦éƒ¨æƒæ (MRI Scan)',
                    desc: 'High-contrast, realistic MRI scan of human brain.',
                    subject: 'Human brain', title: '', styles: ['MRI Scan', 'Medical Imaging', 'Blue and Black', 'Detailed'], sections: [], ar: '4:5', texture: ''
                },
                med_surgery: {
                    name: 'æ‰‹è¡“æ©Ÿå™¨äºº (Surgery Robot)',
                    desc: 'Futuristic, sterile view of robotic surgery arms in action.',
                    subject: 'Robotic arm performing surgery', title: 'Future Med', styles: ['High Tech', 'Sterile', 'Bright', 'Depth of Field'], sections: [], ar: '21:9', texture: ''
                },
                med_virus: {
                    name: 'ç—…æ¯’å¾®è§€ (Virus)',
                    desc: 'Electron microscope style view of virus structure.',
                    subject: 'Virus cell structure', title: '', styles: ['Microscopic', 'Electron Microscope', 'Detailed Texture', 'Danger'], sections: [], ar: '4:3', texture: ''
                },
                med_anatomy: {
                    name: 'å¿ƒè‡Ÿè§£å‰–åœ– (Heart Anatomy)',
                    desc: 'Educational cutaway illustration of human heart chambers.',
                    subject: 'Human heart', title: 'Cardiology', styles: ['Medical Illustration', 'Cutaway', 'Educational', 'Clean'], sections: [{ visual: 'Ventricles and atria', param:'', textBlocks: [{ content: 'Aorta', level: 'Caption', font:'' }] }], ar: '4:3', texture: ''
                },
                med_pharma_pill: {
                    name: 'è—¥ç‰©æº¶è§£ (Pill Dissolving)',
                    desc: 'Macro shot of a capsule dissolving in water, releasing particles.',
                    subject: 'Pill capsule dissolving',
                    title: '',
                    styles: ['Macro', 'High Speed Photography', 'Water Bubbles', 'Studio Light'],
                    sections: [],
                    ar: '1:1',
                    texture: ''
                },
                med_conf_slide: {
                    name: 'é†«å­¸ç ”è¨æœƒ (Conference)',
                    desc: 'Abstract neural network visualization with clean space for presentation titles.',
                    subject: 'Abstract neural networks and synapses',
                    title: 'Conference Slide',
                    styles: ['Medical Imaging', 'Minimalist', 'Blue and White', 'Clean'],
                    sections: [
                        { visual: 'Neural networks on right side', param: 'Soft blue glow', textBlocks: [] },
                        { visual: 'Empty white space on left', param: 'For text overlay', textBlocks: [] }
                    ],
                    ar: '16:9',
                    texture: ''
                },
                med_micro_bacteria: {
                    name: 'ç´°èŒåŸ¹é¤Š (Bacteria Culture)',
                    desc: 'Petri dish with colorful bacterial colonies under studio light.',
                    subject: 'Bacteria in Petri dish',
                    title: 'Microbio',
                    styles: ['Macro', 'Vibrant Colors', 'Scientific', 'Top Down'],
                    sections: [],
                    ar: '1:1',
                    texture: ''
                },
                med_consult: {
                    name: 'é†«ç”Ÿå•è¨º (Consultation)',
                    desc: 'Warm, professional shot of a doctor holding a tablet speaking to a patient.',
                    subject: 'Doctor consulting patient',
                    title: 'Patient Care',
                    styles: ['Portrait Photography', 'Warm Light', 'Bokeh', 'Trustworthy'],
                    sections: [],
                    ar: '3:2',
                    texture: ''
                }
            },
            "ğŸ“Š æµ·å ±èˆ‡å¹³é¢è¨­è¨ˆ (Posters & Layouts)": {
                layout_biz_poster: {
                    name: 'å•†æ¥­æµ·å ± (Business Poster)',
                    desc: 'Professional poster with high fidelity text placeholders for business events.',
                    subject: 'Modern office building low angle',
                    title: 'Business Event',
                    styles: ['Poster Design', 'Bold Typography', 'High Resolution', 'Sans-serif'],
                    sections: [
                        { visual: 'Main text overlay', param:'', textBlocks: [{ content: 'INNOVATION SUMMIT', level: 'H1', font: 'Bold Display' }, { content: '2025 World Tour', level: 'H2', font: 'Sans-serif' }] }
                    ],
                    ar: '2:3',
                    texture: ''
                },
                movie_action: {
                    name: 'å‹•ä½œç‰‡æµ·å ± (Action)',
                    desc: 'Gritty blockbuster poster with teal & orange grading.',
                    subject: 'Hero in debris', title: 'LAST STAND', styles: ['Movie Poster Composition', 'Cinematic Lighting', 'Teal and Orange', 'Hyperrealistic'], sections: [{ visual: 'Hero holding weapon', param: 'dirty face, scars', textBlocks: [] }, { visual: '', param: '', textBlocks: [{ content: 'LAST STAND', level: 'H1', font: 'Bold Display' }, { content: 'Coming Soon', level: 'Body', font: 'Sans-serif' }] }], ar: '2:3', texture: ''
                },
                movie_horror: {
                    name: 'ææ€–ç‰‡æµ·å ± (Horror)',
                    desc: 'Dark, foggy gothic atmosphere with glowing eyes.',
                    subject: 'Haunted house silhouette', title: 'THE ECHO', styles: ['Low Key', 'Foggy', 'Grainy', 'Vintage', 'Gothic'], sections: [{ visual: 'Ghostly figure in window', param: 'red glowing eyes', textBlocks: [{ content: 'THE ECHO', level: 'H1', font: 'Serif' }] }], ar: '2:3', texture: ''
                },
                poster_minimal: {
                    name: 'æ¥µç°¡æµ·å ± (Minimalist)',
                    desc: 'Clean Bauhaus style poster with geometric elements.',
                    subject: 'Single chair', title: 'DESIGN', styles: ['Minimalist', 'Bauhaus', 'Flat Design', 'Pastel Colors'], sections: [{ visual: 'Chair in center', param:'', textBlocks: [{ content: 'DESIGN WEEK', level: 'H1', font: 'Helvetica' }] }], ar: '2:3', texture: ''
                },
                layout_mag_cover: {
                    name: 'é›œèªŒå°é¢ (Magazine)',
                    desc: 'High-fashion magazine cover layout with model and headlines.',
                    subject: 'Fashion model close up',
                    title: 'VOGUE Style',
                    styles: ['Magazine Layout', 'High Key', 'Fashion Photography', 'Elegant'],
                    sections: [{ visual: 'Model gazing at camera', param:'', textBlocks: [{ content: 'SUMMER TRENDS', level: 'H1', font: 'Serif' }] }],
                    ar: '3:4',
                    texture: ''
                }
            },
            "ğŸ“¢ ç¤¾ç¾¤åª’é«” (Social Media)": {
                social_lifestyle_vibe: {
                    name: 'æ°›åœæ„Ÿè²¼æ–‡ (Vibe Post)',
                    desc: 'Lifestyle photography with aesthetic signage text in background.',
                    subject: 'Coffee shop window with neon sign',
                    title: 'Weekend Vibe',
                    styles: ['Lifestyle', 'Depth of Field', 'Natural Light', 'Handwritten'],
                    sections: [{ visual: 'Neon sign in background', param:'', textBlocks: [{ content: 'Chill Vibes', level: 'Caption', font: 'Handwritten' }] }],
                    ar: '4:5',
                    texture: ''
                },
                social_linkedin_award: {
                    name: 'LinkedIn æˆå°± (Award)',
                    desc: 'Professional award trophy on a modern desk with bokeh, ideal for career milestones.',
                    subject: 'Crystal award trophy',
                    title: 'Achievement',
                    styles: ['Professional', 'Bokeh', 'Office Setting', 'Bright'],
                    sections: [{ visual: 'Award on desk', param:'', textBlocks: [{ content: 'Honored to receive...', level: 'Caption', font:'' }] }],
                    ar: '4:5',
                    texture: ''
                },
                social_ig_story: {
                    name: 'IG é™å‹• (Story)',
                    desc: 'Vibrant fashion sale layout for Instagram Stories.',
                    subject: 'Fashion model', title: 'SALE', styles: ['Magazine Layout', 'Vibrant', 'Lifestyle'], sections: [{ visual: 'Model posing', param:'', textBlocks: [{ content: 'SUMMER SALE', level: 'H1', font: 'Bold Display' }, { content: '50% OFF', level: 'H2', font:'' }] }], ar: '9:16', texture: ''
                },
                social_tiktok_bg: {
                    name: 'TikTok èƒŒæ™¯ (Background)',
                    desc: 'Abstract neon gradients with motion blur, perfect for video text overlays.',
                    subject: 'Abstract fluid gradients',
                    title: '',
                    styles: ['Neon Lights', 'Motion Blur', 'Vibrant', 'Abstract'],
                    sections: [],
                    ar: '9:16',
                    texture: ''
                },
                social_twitter_header: {
                    name: 'Twitter é é¦– (Header)',
                    desc: 'Minimalist workspace flat lay with coffee and laptop, clean and professional.',
                    subject: 'Minimalist desk flat lay',
                    title: '',
                    styles: ['Flat Lay', 'Minimalist', 'Top Down', 'Natural Light'],
                    sections: [],
                    ar: '3:1',
                    texture: ''
                },
                social_fb_event: {
                    name: 'FB æ´»å‹•å°é¢ (Event)',
                    desc: 'Energetic concert crowd silhouette with stage lights for event pages.',
                    subject: 'Concert crowd silhouette',
                    title: 'Live Music',
                    styles: ['Silhouette', 'Stage Lights', 'Energetic', 'Wide Angle'],
                    sections: [{ visual:'', param:'', textBlocks: [{ content: 'LIVE TONIGHT', level: 'H1', font: 'Bold Display' }] }],
                    ar: '16:9',
                    texture: ''
                },
                social_pinterest_diy: {
                    name: 'Pinterest æ•™å­¸ (DIY)',
                    desc: 'Knolling layout of crafting tools and materials, organized and aesthetic.',
                    subject: 'Crafting tools knolling',
                    title: 'DIY Guide',
                    styles: ['Knolling', 'Bright', 'Organized', 'Pastel Colors'],
                    sections: [{ visual:'', param:'', textBlocks: [{ content: 'How to Make', level: 'H1', font: 'Handwritten' }] }],
                    ar: '2:3',
                    texture: ''
                }
            },
            "ğŸ’¼ å•†å‹™èˆ‡ç°¡å ± (Business & Slides)": {
                layout_slide_bg: {
                    name: 'ç°¡å ±èƒŒæ™¯ (Clean Slide)',
                    desc: 'Minimalist background with large negative space for text overlays.',
                    subject: 'Abstract geometric shapes',
                    title: 'Presentation',
                    styles: ['Minimalist', 'Soft Gradient', 'Negative Space', 'Clean'],
                    sections: [
                        { visual: 'Shapes on bottom right', param:'', textBlocks: [] },
                        { visual: 'Empty space on top left', param:'', textBlocks: [] }
                    ],
                    ar: '16:9',
                    texture: ''
                },
                slide_tech_dark: {
                    name: 'ç§‘æŠ€ç°¡å ± (Tech Dark)',
                    desc: 'Dark mode tech background with circuit patterns.',
                    subject: 'Circuit board abstract pattern',
                    title: 'Tech Slide',
                    styles: ['Cyberpunk', 'Dark Mode', 'Blue and Purple', 'High Tech'],
                    sections: [],
                    ar: '16:9',
                    texture: ''
                }
            },
            "ğŸ“· æ”å½±èˆ‡è—è¡“ (Photography & Art)": {
                prod_watch: {
                    name: 'ç²¾å“æ‰‹éŒ¶ (Luxury Watch)',
                    desc: 'Macro luxury product shot with gold reflections.',
                    subject: 'Gold wrist watch', title: '', styles: ['Product Photography', 'Macro', 'Reflection', 'Luxurious'], sections: [], ar: '4:5', texture: ''
                },
                prod_perfume: {
                    name: 'é¦™æ°´å»£å‘Š (Perfume)',
                    desc: 'Elegant product shot on water surface with ripples.',
                    subject: 'Perfume bottle on water', title: '', styles: ['Product Photography', 'Water Ripples', 'Soft Light', 'Elegant'], sections: [], ar: '4:5', texture: ''
                },
                nature_macro: {
                    name: 'ç”Ÿæ…‹å¾®è· (Nature Macro)',
                    desc: 'Fresh close-up of nature details like dew drops.',
                    subject: 'Dew drop on leaf', title: '', styles: ['Macro', 'Natural Light', 'Green', 'Fresh'], sections: [], ar: '4:5', texture: ''
                },
                art_riso: {
                    name: 'å­”ç‰ˆå°åˆ· (Risograph)',
                    desc: 'Grainy, vibrant retro print style with offset colors.',
                    subject: 'Abstract shapes', title: '', styles: ['Risograph', 'Grainy', 'Vibrant Colors', 'Retro'], sections: [], ar: '2:3', texture: ''
                }
            },
            "ğŸ“± UI èˆ‡ç¶²é è¨­è¨ˆ (UI/Web)": {
                ui_app_fin: {
                    name: 'é‡‘è App (Fintech)',
                    desc: 'Modern flat UI for banking apps with vector elements.',
                    subject: 'Banking app interface', title: 'Wallet', styles: ['Web UI Layout', 'Flat Design', 'Vector Art', 'High Key'], sections: [{ visual: 'Header section', param:'', textBlocks: [{ content: 'Total Balance', level: 'Body', font:'' }, { content: '$12,450.00', level: 'H1', font:'' }] }], ar: '9:16', texture: ''
                },
                ui_web_hero: {
                    name: 'ç¶²é é¦–åœ– (Hero)',
                    desc: 'Clean, minimalist website hero section with soft light.',
                    subject: 'Modern office desk', title: 'Future', styles: ['Web UI Layout', 'Minimalist', 'Clean', 'Soft Light'], sections: [{ visual:'', param:'', textBlocks: [{ content: 'We Build Future', level: 'H1', font: 'Sans-serif' }, { content: 'Start Now', level: 'Body', font: 'Sans-serif' }] }], ar: '21:9', texture: ''
                }
            },
            "ğŸ® éŠæˆ²èˆ‡å‹•æ¼« (Game)": {
                game_iso: {
                    name: 'ç­‰è§’åœ°åœ– (Isometric)',
                    desc: 'Cute low-poly 3D isometric game asset.',
                    subject: 'Medieval village', title: '', styles: ['Isometric', 'Low Poly', '3D Render', 'Cute'], sections: [], ar: '4:5', texture: ''
                },
                game_char: {
                    name: 'è§’è‰²è¨­å®š (Char Sheet)',
                    desc: 'Detailed character concept art with front/side views.',
                    subject: 'Cyberpunk warrior', title: '', styles: ['Concept Art', 'T-Pose', 'Front/Side View', 'Detailed'], sections: [], ar: '21:9', texture: ''
                }
            }
        };

        // --- App Component Logic ---
        const App = () => {
            const [showHelp, setShowHelp] = useState(false);
            const [copied, setCopied] = useState(false);
            const [isPresetDropdownOpen, setIsPresetDropdownOpen] = useState(false);
            const [currentPresetName, setCurrentPresetName] = useState('');
            const [hoveredPreset, setHoveredPreset] = useState(null);
            const [expandedCategories, setExpandedCategories] = useState(['è—è¡“é¢¨æ ¼ (Styles)', 'ç‰ˆå‹èˆ‡æ§‹åœ– (Layout)']);
            const [manualPrompt, setManualPrompt] = useState('');
            
            // Feature state: Traditional Chinese optimization
            const [isTraditionalChinese, setIsTraditionalChinese] = useState(true);

            const [form, setForm] = useState({
                subject: '',
                title: '',
                body: '',
                selectedStyles: [],
                sections: [],
                ar: '16:9',
                resolution: '4K',
                seed: '',
                stylize: '',
                texture: '',
                negative: 'blur, watermark, bad anatomy, text error' 
            });

            const presetDropdownRef = useRef(null);

            useEffect(() => {
                function handleClickOutside(event) {
                    if (presetDropdownRef.current && !presetDropdownRef.current.contains(event.target)) {
                        setIsPresetDropdownOpen(false);
                    }
                }
                document.addEventListener("mousedown", handleClickOutside);
                return () => {
                    document.removeEventListener("mousedown", handleClickOutside);
                };
            }, []);

            useEffect(() => {
                let parts = [];

                if (form.subject) parts.push(`**Subject:** ${form.subject}`);
                if (form.title) parts.push(`**Title:** "${form.title}"`);
                if (form.body) parts.push(`**Body:** ${form.body}`);

                if (form.selectedStyles.length > 0) {
                    parts.push(`**Art Styles & Tech:** ${form.selectedStyles.join(', ')}`);
                }

                if (form.texture) {
                    parts.push(`**Texture:** ${form.texture}`);
                }

                if (form.sections.length > 0) {
                    parts.push('\n--- LAYOUT SECTIONS ---');
                    form.sections.forEach((sec, idx) => {
                        let header = `[Section ${idx + 1}]`;
                        let lines = [];

                        if (sec.visual) lines.push(`Visual: ${sec.visual}`);
                        if (sec.param) lines.push(`Param: ${sec.param}`);

                        if (sec.textBlocks && sec.textBlocks.length > 0) {
                            sec.textBlocks.forEach(tb => {
                                if (tb.content) {
                                    let meta = [];
                                    if (tb.level) meta.push(tb.level);
                                    if (tb.font) meta.push(`Font: ${tb.font}`);
                                    let metaStr = meta.length > 0 ? ` (${meta.join(', ')})` : '';
                                    lines.push(`Text: "${tb.content}"${metaStr}`);
                                }
                            });
                        }

                        if (lines.length > 0) {
                            parts.push(`${header}\n* ${lines.join(' | ')}`);
                        }
                    });
                }

                parts.push('\n--- PARAMETERS ---');
                let params = [];
                if (form.ar) params.push(`--ar ${form.ar}`);
                if (form.resolution) params.push(form.resolution);
                if (form.stylize) params.push(`--s ${form.stylize}`);
                if (form.seed) params.push(`--seed ${form.seed}`);
                
                // Negative Prompt Logic
                let negativeStr = form.negative;
                if (isTraditionalChinese) {
                     const suffix = "Simplified Chinese";
                     if (!negativeStr.toLowerCase().includes(suffix.toLowerCase())) {
                         negativeStr = negativeStr ? `${negativeStr}, ${suffix}` : suffix;
                     }
                }
                if (negativeStr) params.push(`--no ${negativeStr}`);

                parts.push(params.join(' '));

                setManualPrompt(parts.join('\n'));
            }, [form, isTraditionalChinese]);

            const toggleCategory = (name) => {
                setExpandedCategories(prev => 
                    prev.includes(name) 
                        ? prev.filter(c => c !== name) 
                        : [...prev, name]
                );
            };

            const toggleStyle = (val) => {
                setForm(prev => ({
                    ...prev,
                    selectedStyles: prev.selectedStyles.includes(val)
                        ? prev.selectedStyles.filter(s => s !== val)
                        : [...prev.selectedStyles, val]
                }));
            };

            const applyPreset = (key) => {
                setIsPresetDropdownOpen(false);
                setHoveredPreset(null);

                if (!key) {
                    setCurrentPresetName('');
                    setForm({
                        subject: '',
                        title: '',
                        body: '',
                        selectedStyles: [],
                        sections: [],
                        ar: '16:9',
                        resolution: '4K',
                        seed: '',
                        stylize: '',
                        texture: '',
                        negative: 'blur, watermark, bad anatomy, text error'
                    });
                    return;
                }

                let p = null;
                for (const group in PRESET_GROUPS) {
                    if (PRESET_GROUPS[group][key]) {
                        p = PRESET_GROUPS[group][key];
                        break;
                    }
                }

                if (p) {
                    setCurrentPresetName(p.name);
                    setForm(prev => ({
                        ...prev,
                        subject: p.subject,
                        title: p.title,
                        selectedStyles: [...p.styles],
                        sections: p.sections.map(s => ({
                            visual: s.visual || '',
                            param: s.param || '',
                            textBlocks: s.textBlocks ? s.textBlocks.map(tb => ({ ...tb })) : []
                        })),
                        ar: p.ar,
                        texture: p.texture || ''
                    }));
                }
            };

            const addSection = () => {
                setForm(prev => ({
                    ...prev,
                    sections: [...prev.sections, { visual: '', param: '', textBlocks: [] }]
                }));
            };

            const removeSection = (idx) => {
                setForm(prev => ({
                    ...prev,
                    sections: prev.sections.filter((_, i) => i !== idx)
                }));
            };

            const addTextBlock = (sectionIndex) => {
                setForm(prev => {
                    const newSections = [...prev.sections];
                    newSections[sectionIndex].textBlocks.push({
                        content: '',
                        level: 'Body',
                        font: ''
                    });
                    return { ...prev, sections: newSections };
                });
            };

            const removeTextBlock = (sectionIndex, blockIndex) => {
                setForm(prev => {
                    const newSections = [...prev.sections];
                    newSections[sectionIndex].textBlocks.splice(blockIndex, 1);
                    return { ...prev, sections: newSections };
                });
            };
            
            const updateSectionField = (idx, field, value) => {
                setForm(prev => {
                     const newSections = [...prev.sections];
                     newSections[idx][field] = value;
                     return { ...prev, sections: newSections };
                });
            };

            const updateTextBlock = (sectionIndex, blockIndex, field, value) => {
                setForm(prev => {
                    const newSections = [...prev.sections];
                    newSections[sectionIndex].textBlocks[blockIndex][field] = value;
                    return { ...prev, sections: newSections };
                });
            };

            const copyToClipboard = () => {
                navigator.clipboard.writeText(manualPrompt).then(() => {
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                });
            };

            return (
                <div className="flex h-screen w-full relative">
                    {/* Help Modal */}
                    {showHelp && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-black/80 backdrop-blur-sm" onClick={() => setShowHelp(false)}></div>
                            <div className="bg-gray-800 border border-gray-600 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto custom-scrollbar relative z-10 flex flex-col">
                                 <div className="p-5 border-b border-gray-700 flex justify-between items-center bg-gray-900 sticky top-0">
                                    <h3 className="text-xl font-bold text-blue-400">ğŸ“– ä½¿ç”¨èªªæ˜ (User Guide)</h3>
                                    <button onClick={() => setShowHelp(false)} className="text-gray-400 hover:text-white text-2xl leading-none">
                                        <X size={24} />
                                    </button>
                                </div>
                                <div className="p-6 space-y-6 text-sm text-gray-300 leading-relaxed">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <h4 className="font-bold text-white mb-2 text-base">âœ¨ æ ¸å¿ƒæ¦‚å¿µ (Core Concept)</h4>
                                            <p className="mb-2">æœ¬å·¥å…·åŸºæ–¼ <span className="text-yellow-400">Google é»ƒé‡‘å…¬å¼</span> è¨­è¨ˆï¼Œå”åŠ©æ‚¨çµæ§‹åŒ–åœ°ç”Ÿæˆé«˜å“è³ªçš„ AI ç¹ªåœ–æç¤ºè© (Prompt)ã€‚</p>
                                            <div className="bg-gray-900 p-3 rounded border border-gray-700 font-mono text-xs">
                                                [Subject] + [Action/Context] + [Art Style] + [Lighting] + [Camera]
                                            </div>
                                        </div>
                                        <div>
                                            <h4 className="font-bold text-white mb-2 text-base">ğŸš€ å¿«é€Ÿä¸Šæ‰‹ (Quick Start)</h4>
                                            <ol className="list-decimal pl-4 space-y-1">
                                                <li>å¾ä¸Šæ–¹ <strong>"âš¡ é¸æ“‡é è¨­"</strong> æŒ‘é¸ä¸€å€‹æ¥è¿‘çš„ç¯„æœ¬ã€‚</li>
                                                <li>ä¿®æ”¹ <strong>"ä¸»é«”æè¿°"</strong> ç‚ºæ‚¨æƒ³è¦çš„å…§å®¹ã€‚</li>
                                                <li>åœ¨ <strong>"é¢¨æ ¼èˆ‡æŠ€è¡“"</strong> é»é¸æ›´å¤šæ¨™ç±¤ä¾†å¼·åŒ–è¦–è¦ºã€‚</li>
                                                <li>é»æ“Šå³ä¸‹è§’ <strong>"è¤‡è£½æç¤ºè©"</strong> è²¼ä¸Šè‡³ AI ç”Ÿåœ–å·¥å…·ã€‚</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-5 border-t border-gray-700 bg-gray-900 flex justify-end">
                                    <button onClick={() => setShowHelp(false)} className="bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 rounded font-bold transition">é–‹å§‹ä½¿ç”¨ (Got it)</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Left Panel: Form */}
                    <div className="w-3/5 lg:w-2/3 flex flex-col border-r border-gray-700 h-full overflow-y-auto custom-scrollbar bg-gray-800">
                        
                        {/* Header */}
                        <div className="p-5 border-b border-gray-700 bg-gray-900 sticky top-0 z-20 shadow-md">
                            <div className="flex justify-between items-center mb-3">
                                <div className="flex items-center gap-2">
                                    <h1 className="text-xl font-bold text-blue-400 tracking-wide">AI Image Prompt Master <span className="text-xs text-gray-500 font-normal">v4.1.0 (Single)</span></h1>
                                    <button onClick={() => setShowHelp(true)} className="text-gray-500 hover:text-white transition" title="ä½¿ç”¨èªªæ˜">
                                        <HelpCircle size={18} />
                                    </button>
                                </div>

                                {/* Preset Selector */}
                                <div className="w-72 relative" ref={presetDropdownRef}>
                                    <button onClick={() => setIsPresetDropdownOpen(!isPresetDropdownOpen)}
                                        className="w-full bg-gray-800 border border-blue-500 text-white text-xs rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 flex justify-between items-center relative z-50 hover:bg-gray-700 transition">
                                        <span className="truncate">{currentPresetName || 'âš¡ é¸æ“‡é è¨­ / é‡ç½® (Reset)...'}</span>
                                        <ChevronDown size={14} className="text-gray-400 ml-2" />
                                    </button>

                                    {isPresetDropdownOpen && (
                                        <div className="absolute top-full right-0 w-80 bg-gray-800 border border-gray-600 mt-1 rounded shadow-2xl z-50 max-h-[60vh] overflow-y-auto custom-scrollbar">
                                            <div onClick={() => applyPreset('')} onMouseEnter={() => setHoveredPreset(null)}
                                                className="px-4 py-3 text-xs text-gray-400 hover:bg-gray-700 hover:text-white cursor-pointer border-b border-gray-700">
                                                âš¡ å–æ¶ˆé¸æ“‡ / é‡ç½® (Reset)...
                                            </div>
                                            {Object.entries(PRESET_GROUPS).map(([groupName, groupPresets]) => (
                                                <div key={groupName}>
                                                    <div className="px-4 py-1.5 text-[10px] font-bold text-blue-400 bg-gray-900 uppercase tracking-wider sticky top-0 z-10 border-b border-gray-800">
                                                        {groupName}
                                                    </div>
                                                    {Object.entries(groupPresets).map(([key, preset]) => (
                                                        <div key={key}
                                                            onClick={() => applyPreset(key)}
                                                            onMouseEnter={() => setHoveredPreset(preset)}
                                                            className="px-4 py-2.5 text-xs text-gray-200 hover:bg-blue-600 hover:text-white cursor-pointer border-b border-gray-700/50 transition-colors flex justify-between items-center group">
                                                            <span>{preset.name}</span>
                                                            <ChevronRight size={10} className="opacity-0 group-hover:opacity-100" />
                                                        </div>
                                                    ))}
                                                </div>
                                            ))}
                                        </div>
                                    )}

                                    {/* Hover Preview Tooltip */}
                                    {isPresetDropdownOpen && hoveredPreset && (
                                        <div className="absolute top-0 right-full mr-3 w-64 bg-black/95 backdrop-blur border border-yellow-500/50 p-4 rounded-lg shadow-2xl z-50 pointer-events-none transform transition-all duration-200">
                                            <h4 className="font-bold text-yellow-400 text-sm mb-1 border-b border-gray-800 pb-1">{hoveredPreset.name}</h4>
                                            <p className="text-xs text-gray-300 mb-3 leading-relaxed">{hoveredPreset.desc || hoveredPreset.subject}</p>
                                            <div className="mb-2">
                                                <span className="text-[10px] text-gray-500 uppercase font-bold block mb-1">Styles & Vibes</span>
                                                <div className="flex flex-wrap gap-1">
                                                    {hoveredPreset.styles.slice(0, 4).map((s, i) => (
                                                        <span key={i} className="inline-block bg-gray-800 text-blue-300 text-[10px] px-1.5 py-0.5 rounded border border-gray-700">{s}</span>
                                                    ))}
                                                    {hoveredPreset.styles.length > 4 && (
                                                        <span className="text-[10px] text-gray-600 px-1">+{hoveredPreset.styles.length - 4}</span>
                                                    )}
                                                </div>
                                            </div>
                                            <div className="flex justify-between items-end mt-2 pt-2 border-t border-gray-800">
                                                <span className="text-[10px] text-gray-500">Ratio: <span className="text-gray-300 font-mono">{hoveredPreset.ar}</span></span>
                                                <span className="text-[10px] text-gray-500">Sections: <span className="text-gray-300 font-mono">{hoveredPreset.sections.length}</span></span>
                                            </div>
                                            <div className="tooltip-arrow !-right-1.5 !left-auto !border-l-0 !border-b-0 !border-t !border-r !border-yellow-500/50 !bg-black"></div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        <div className="p-6 space-y-8 pb-20">
                            
                            {/* Section 1: Global Context */}
                            <section>
                                <h2 className="text-base font-bold text-blue-300 mb-3 flex items-center">
                                    <span className="w-2 h-6 bg-blue-500 mr-2 rounded-sm"></span>
                                    1. å…¨åŸŸæè¿° (Global Context)
                                </h2>
                                <div className="space-y-3">
                                    <div>
                                        <label className="text-xs text-gray-400 font-bold block mb-1">ä¸»é«”æè¿° (Subject)</label>
                                        <input value={form.subject} onChange={(e) => setForm({...form, subject: e.target.value})} type="text"
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-2 text-sm focus:border-blue-500 outline-none transition"
                                            placeholder="æè¿°ç•«é¢çš„æ ¸å¿ƒä¸»é«”..." />
                                    </div>
                                    <div>
                                        <label className="text-xs text-gray-400 font-bold block mb-1">ä½œå“æ¨™é¡Œ (Title)</label>
                                        <input value={form.title} onChange={(e) => setForm({...form, title: e.target.value})} type="text"
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-2 text-sm focus:border-blue-500 outline-none transition" />
                                    </div>
                                    <div>
                                        <label className="text-xs text-gray-400 font-bold block mb-1">å…§æ–‡/èƒŒæ™¯ (Body Context)</label>
                                        <textarea value={form.body} onChange={(e) => setForm({...form, body: e.target.value})} rows={3}
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-2 text-sm focus:border-blue-500 outline-none custom-scrollbar transition"
                                            placeholder="è¼¸å…¥è©³ç´°çš„èƒŒæ™¯æ•…äº‹ã€æƒ…å¢ƒæè¿°æˆ–è£œå……èªªæ˜..."></textarea>
                                    </div>
                                </div>
                            </section>

                            {/* Section 2: Styles & Tech */}
                            <section>
                                <div className="flex justify-between items-center mb-3">
                                    <h2 className="text-base font-bold text-green-300 flex items-center">
                                        <span className="w-2 h-6 bg-green-500 mr-2 rounded-sm"></span>
                                        2. é¢¨æ ¼èˆ‡æŠ€è¡“ (Styles & Tech)
                                    </h2>
                                    <div className="relative">
                                        <select value={form.texture} onChange={(e) => setForm({...form, texture: e.target.value})}
                                            className="bg-gray-800 text-xs text-gray-300 border border-gray-600 rounded px-2 py-1 focus:border-green-500 focus:outline-none appearance-none pr-8 cursor-pointer">
                                            <option value="">ç„¡ç‰¹å®šæè³ª (None)</option>
                                            {TEXTURES.map(t => (
                                                <option key={t.val} value={t.val}>{t.label}</option>
                                            ))}
                                        </select>
                                        <ChevronDown size={12} className="absolute right-2 top-1.5 text-gray-500 pointer-events-none" />
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    {Object.entries(CATEGORIES).map(([categoryName, items]) => (
                                        <div key={categoryName} className="bg-gray-750 rounded border border-gray-700">
                                            <div onClick={() => toggleCategory(categoryName)}
                                                className="bg-gray-800 p-3 cursor-pointer flex justify-between items-center hover:bg-gray-700 transition rounded-t select-none">
                                                <h3 className="text-xs font-bold text-gray-300 uppercase">{categoryName} <span className="text-gray-500 ml-1">({items.length})</span></h3>
                                                <span className="text-gray-500 text-xs">{expandedCategories.includes(categoryName) ? 'â–¼' : 'â–¶'}</span>
                                            </div>

                                            {expandedCategories.includes(categoryName) && (
                                                <div className="p-3 bg-gray-900 border-t border-gray-700 rounded-b">
                                                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
                                                        {items.map(item => (
                                                            <div key={item.val} className="group relative inline-block">
                                                                <button onClick={() => toggleStyle(item.val)}
                                                                    className={`w-full px-2 py-2 rounded transition border btn-truncate text-center text-xs truncate
                                                                        ${form.selectedStyles.includes(item.val) 
                                                                            ? 'bg-green-700 text-white border-green-500' 
                                                                            : 'bg-gray-800 text-gray-400 border-gray-700 hover:border-gray-500 hover:text-gray-200'
                                                                        }`}>
                                                                    {item.label}
                                                                </button>
                                                                <div className="hidden group-hover:block absolute bottom-[115%] left-1/2 -translate-x-1/2 w-56 bg-black text-gray-200 text-[11px] p-3 rounded shadow-2xl z-50 pointer-events-none border border-gray-600 whitespace-normal leading-relaxed text-left">
                                                                    <span className="block font-bold text-green-400 mb-1 text-xs border-b border-gray-700 pb-1">{item.label}</span>
                                                                    {item.desc}
                                                                    <div className="tooltip-arrow"></div>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* Section 3: Layout Sections */}
                            <section>
                                <div className="flex justify-between items-center mb-3">
                                    <h2 className="text-base font-bold text-purple-300 flex items-center">
                                        <span className="w-2 h-6 bg-purple-500 mr-2 rounded-sm"></span>
                                        3. ç‰ˆé¢åˆ†å€ (Layout Sections)
                                    </h2>
                                    <button onClick={addSection}
                                        className="bg-purple-700 hover:bg-purple-600 px-3 py-1.5 rounded text-xs text-white font-bold transition shadow-sm border border-purple-500 flex items-center gap-1">
                                        <Plus size={12} /> æ–°å¢åˆ†å€
                                    </button>
                                </div>

                                <div className="space-y-4">
                                    {form.sections.map((section, sIdx) => (
                                        <div key={sIdx} className="bg-gray-800 p-3 rounded border border-gray-600 relative group transition hover:shadow-lg">
                                            <button onClick={() => removeSection(sIdx)}
                                                className="absolute top-2 right-2 text-gray-600 hover:text-red-400 transition bg-gray-800 rounded-full w-6 h-6 flex items-center justify-center border border-gray-700 hover:border-red-400 z-10">
                                                <X size={12} />
                                            </button>

                                            <div className="mb-2 text-[10px] text-purple-400 font-bold uppercase tracking-widest flex items-center gap-2">
                                                <span className="bg-purple-900/50 px-1.5 py-0.5 rounded">SECTION {sIdx + 1}</span>
                                            </div>

                                            <div className="mb-3 grid grid-cols-12 gap-2 bg-gray-900/50 p-2 rounded border border-gray-700/50">
                                                <div className="col-span-12 md:col-span-6">
                                                    <label className="text-[10px] text-gray-500 block mb-0.5">è¦–è¦ºä¸»é«” (Visual)</label>
                                                    <input value={section.visual} onChange={(e) => updateSectionField(sIdx, 'visual', e.target.value)}
                                                        placeholder="ä¾‹å¦‚: Hero silhouette..."
                                                        className="w-full bg-gray-900 border border-gray-700 rounded p-1.5 text-xs focus:border-purple-500 text-gray-300 outline-none" />
                                                </div>
                                                <div className="col-span-12 md:col-span-6">
                                                    <label className="text-[10px] text-gray-500 block mb-0.5">åƒæ•¸/ç´°ç¯€ (Params)</label>
                                                    <input value={section.param} onChange={(e) => updateSectionField(sIdx, 'param', e.target.value)}
                                                        placeholder="ä¾‹å¦‚: red lighting..."
                                                        className="w-full bg-gray-900 border border-gray-700 rounded p-1.5 text-xs focus:border-purple-500 text-gray-300 outline-none" />
                                                </div>
                                            </div>

                                            <div className="space-y-2">
                                                {section.textBlocks.map((block, bIdx) => (
                                                    <div key={bIdx} className="flex gap-2 items-start bg-gray-900 p-2 rounded border border-gray-700 border-dashed hover:border-gray-500 transition">
                                                        <select value={block.level} onChange={(e) => updateTextBlock(sIdx, bIdx, 'level', e.target.value)}
                                                            className="w-24 bg-gray-800 border border-gray-600 rounded p-1.5 text-xs text-blue-300 font-bold h-8 cursor-pointer outline-none">
                                                            <option value="Body">å…§æ–‡</option>
                                                            <option value="H1">H1 å¤§æ¨™</option>
                                                            <option value="H2">H2 å‰¯æ¨™</option>
                                                            <option value="H3">H3 å°æ¨™</option>
                                                            <option value="Caption">è¨»è§£</option>
                                                            <option value="Quote">å¼•è¨€</option>
                                                        </select>
                                                        <textarea value={block.content} onChange={(e) => updateTextBlock(sIdx, bIdx, 'content', e.target.value)}
                                                            placeholder="è¼¸å…¥æ–‡å­—å…§å®¹..." rows={1}
                                                            className="flex-1 bg-gray-800 border border-gray-600 rounded p-1.5 text-xs text-white placeholder-gray-600 custom-scrollbar resize-y outline-none" />

                                                        <div className="relative w-32 hidden md:block">
                                                            <input list={`fontList-${sIdx}-${bIdx}`} value={block.font} onChange={(e) => updateTextBlock(sIdx, bIdx, 'font', e.target.value)}
                                                                placeholder="å­—é«” (Font)..."
                                                                className="w-full bg-gray-800 border border-gray-600 rounded p-1.5 text-xs text-gray-300 h-8 focus:outline-none focus:border-blue-500" />
                                                            <datalist id={`fontList-${sIdx}-${bIdx}`}>
                                                                {FONT_LIST.map((f, i) => <option key={i} value={f} />)}
                                                            </datalist>
                                                        </div>

                                                        <button onClick={() => removeTextBlock(sIdx, bIdx)}
                                                            className="text-gray-600 hover:text-red-400 px-1 pt-1 transition">
                                                            <Trash2 size={14} />
                                                        </button>
                                                    </div>
                                                ))}
                                            </div>

                                            <button onClick={() => addTextBlock(sIdx)}
                                                className="mt-2 text-[10px] text-gray-400 hover:text-white flex items-center gap-1 transition px-2 py-1 rounded hover:bg-gray-700 w-full justify-center border border-transparent hover:border-gray-600">
                                                <Plus size={10} /> <span>æ–°å¢æ–‡å­—è¡Œ (Add Text Line)</span>
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* Section 4: Parameters */}
                            <section>
                                <h2 className="text-base font-bold text-yellow-300 mb-3 flex items-center">
                                    <span className="w-2 h-6 bg-yellow-500 mr-2 rounded-sm"></span>
                                    4. æŠ€è¡“åƒæ•¸ (Parameters)
                                </h2>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-3 bg-gray-800 p-4 rounded border border-gray-700">
                                    <div className="col-span-1">
                                        <label className="block text-[10px] text-gray-400 mb-1 font-bold">é•·å¯¬æ¯” (Aspect Ratio)</label>
                                        <select value={form.ar} onChange={(e) => setForm({...form, ar: e.target.value})}
                                            className="w-full bg-gray-800 border border-gray-600 rounded p-1.5 text-xs text-gray-300 outline-none">
                                            <option value="" disabled>é¸æ“‡æ¯”ä¾‹...</option>
                                            {['1:1', '2:3', '3:2', '3:4', '4:3', '4:5', '5:4', '9:16', '16:9', '21:9'].map(r => (
                                                <option key={r} value={r}>{r}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-[10px] text-gray-400 mb-1 font-bold">è§£æåº¦ (Resolution)</label>
                                        <select value={form.resolution} onChange={(e) => setForm({...form, resolution: e.target.value})}
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-1.5 text-xs outline-none">
                                            <option value="">é è¨­ (Default)</option>
                                            {['1K', '2K', '4K', '8K'].map(r => <option key={r} value={r}>{r}</option>)}
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-[10px] text-gray-400 mb-1 font-bold">ç¨®å­ç¢¼ (Seed)</label>
                                        <input value={form.seed} onChange={(e) => setForm({...form, seed: e.target.value})} type="text" placeholder="éš¨æ©Ÿ (Random)"
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-1.5 text-xs outline-none" />
                                    </div>
                                    <div>
                                        <label className="block text-[10px] text-gray-400 mb-1 font-bold">é¢¨æ ¼åŒ– (Stylize)</label>
                                        <input value={form.stylize} onChange={(e) => setForm({...form, stylize: e.target.value})} type="number" placeholder="100"
                                            className="w-full bg-gray-900 border border-gray-600 rounded p-1.5 text-xs outline-none" />
                                    </div>
                                    
                                    {/* Negative Prompt & Traditional Chinese Option */}
                                    <div className="col-span-2 md:col-span-4 bg-gray-900/50 p-2 rounded border border-gray-700/50">
                                        <div className="flex justify-between items-center mb-1">
                                            <label className="block text-[10px] text-gray-400 font-bold">è² é¢æç¤ºè© (Negative --no)</label>
                                            
                                            {/* Traditional Chinese Optimization Checkbox */}
                                            <div className="flex items-center space-x-2">
                                                <input 
                                                    type="checkbox" 
                                                    id="tc-opt" 
                                                    checked={isTraditionalChinese} 
                                                    onChange={(e) => setIsTraditionalChinese(e.target.checked)}
                                                    className="w-3 h-3 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-1"
                                                />
                                                <label htmlFor="tc-opt" className="text-[10px] text-yellow-400 cursor-pointer select-none flex items-center gap-1" title="é¸å–æ™‚ï¼Œè‡ªå‹•åŠ å…¥ 'Simplified Chinese' åˆ°è² é¢æç¤ºè©ä¸­">
                                                    <span>ç¹é«”ä¸­æ–‡å„ªåŒ– (Trad. Chinese Mode)</span>
                                                    <Info size={10} />
                                                </label>
                                            </div>
                                        </div>
                                        <input value={form.negative} onChange={(e) => setForm({...form, negative: e.target.value})} type="text"
                                            className="w-full bg-gray-800 border border-gray-600 rounded p-1.5 text-xs outline-none focus:border-red-400"
                                            placeholder="blur, watermark, bad anatomy, text error..." />
                                        <div className="text-[9px] text-gray-500 mt-1 flex gap-2">
                                           <span>* å°‡è‡ªå‹•åŠ å…¥: </span>
                                           {isTraditionalChinese && <span className="text-yellow-500 bg-yellow-900/30 px-1 rounded">Simplified Chinese</span>}
                                        </div>
                                    </div>
                                </div>
                            </section>

                            {/* Copyright Footer */}
                            <div className="mt-12 pt-8 border-t border-gray-800 flex flex-col items-center">
                                <div className="flex flex-col items-center gap-2 opacity-80 hover:opacity-100 transition-opacity duration-300">
                                    <p className="text-xs text-gray-500 font-medium tracking-wide">
                                        Developed by <span className="text-blue-400 font-bold ml-1">Shu-Ruei Wu</span>
                                    </p>
                                    <a href="https://allergy.tw" target="_blank" rel="noopener noreferrer" 
                                       className="flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-900 border border-gray-700 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/10 transition-all group">
                                        <span className="w-1.5 h-1.5 rounded-full bg-green-500 group-hover:animate-pulse"></span>
                                        <span className="text-[10px] font-mono text-gray-400 group-hover:text-blue-300">https://allergy.tw</span>
                                        <ExternalLink size={10} className="text-gray-600 group-hover:text-blue-400 ml-0.5" />
                                    </a>
                                    <p className="text-[9px] text-gray-700 mt-2 font-mono">
                                        &copy; {new Date().getFullYear()} AI Prompt Master
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Right Panel: Preview & Copy */}
                    <div className="w-2/5 lg:w-1/3 bg-black flex flex-col h-full border-l border-gray-700 shadow-2xl z-30">
                        <div className="bg-gray-800/80 border-b border-gray-700 p-4">
                            <h3 className="text-base font-bold text-yellow-400 mb-2 flex items-center">
                                <span className="mr-1">ğŸ’¡</span> Google å»ºè­°é»ƒé‡‘å…¬å¼
                            </h3>
                            <div className="text-sm md:text-base text-gray-300 font-mono bg-gray-900 p-2 rounded border border-gray-600 mb-2 leading-relaxed text-[11px] md:text-xs">
                                <span className="text-blue-400">[Subject]</span> +
                                <span className="text-green-400">[Action]</span> +
                                <span className="text-purple-400">[Style]</span> +
                                <span className="text-yellow-400">[Light]</span> +
                                <span className="text-red-400">[Camera]</span>
                            </div>
                        </div>

                        <div className="p-4 border-b border-gray-800 bg-gray-900 flex justify-between items-end">
                            <div>
                                <h2 className="text-lg font-bold text-white">æœ€çµ‚æç¤ºè© (Final Prompt)</h2>
                                <p className="text-[10px] text-gray-500">å¯ç›´æ¥ç·¨è¼¯ (Editable)</p>
                            </div>
                            <div className="text-[10px] text-gray-500 font-mono">
                                {manualPrompt.length} å­—å…ƒ
                            </div>
                        </div>

                        <div className="flex-1 bg-gray-900 relative">
                            <textarea value={manualPrompt} onChange={(e) => setManualPrompt(e.target.value)}
                                className="w-full h-full bg-gray-900 text-gray-300 p-5 font-mono text-sm resize-none focus:outline-none focus:bg-gray-800 transition leading-relaxed custom-scrollbar"
                                spellCheck={false} />
                        </div>

                        <div className="p-5 bg-gray-900 border-t border-gray-800">
                            <button onClick={copyToClipboard}
                                className={`w-full py-3 font-bold rounded shadow-lg transform active:scale-95 transition flex items-center justify-center gap-2
                                    ${copied 
                                        ? 'bg-green-600 hover:bg-green-500 text-white' 
                                        : 'bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-600 hover:to-blue-500 text-white'
                                    }`}>
                                {copied ? <><Check size={18} /> âœ… å·²è¤‡è£½ (Copied)!</> : <><Copy size={18} /> ğŸ“‹ è¤‡è£½æç¤ºè© (Copy Prompt)</>}
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const rootElement = document.getElementById('root');
        if (!rootElement) {
            throw new Error("Could not find root element to mount to");
        }

        const root = createRoot(rootElement);
        root.render(
            <React.StrictMode>
                <App />
            </React.StrictMode>
        );
    </script>
  </body>
</html>